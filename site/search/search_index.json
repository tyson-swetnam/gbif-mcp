{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"GBIF MCP Server","text":"<p>Comprehensive Model Context Protocol server for GBIF biodiversity data</p> <p> </p>"},{"location":"#what-is-gbif-mcp-server","title":"What is GBIF MCP Server?","text":"<p>The GBIF MCP Server provides AI assistants with comprehensive programmatic access to the Global Biodiversity Information Facility (GBIF) - the world's largest biodiversity database with over 2 billion occurrence records.</p> <p>57 MCP tools enable AI assistants to:</p> <ul> <li>\ud83d\udd0d Search and identify species across 1.9M taxa</li> <li>\ud83d\udcca Query 2.4B+ occurrence records with spatial/temporal filters</li> <li>\ud83d\udcda Discover 100,000+ datasets and institutional metadata</li> <li>\ud83d\uddfa\ufe0f Generate occurrence visualization maps</li> <li>\ud83d\udcd6 Track 10,000+ scientific publications citing GBIF</li> <li>\u2705 Validate biodiversity data against standards</li> <li>\ud83d\udcc8 Analyze statistics and trends</li> </ul>"},{"location":"#key-features","title":"Key Features","text":""},{"location":"#comprehensive-coverage","title":"Comprehensive Coverage","text":"<p>7 Major Categories: - Species (14 tools) - Taxonomy, identification, name parsing - Occurrence (14 tools) - Observations, specimens, complete statistics - Registry (17 tools) - Datasets, organizations, GRSciColl - Maps (4 tools) - Tile generation, visualization - Literature (2 tools) - Research impact tracking - Vocabularies (3 tools) - Data standards - Validator (3 tools) - Quality assurance</p>"},{"location":"#production-quality","title":"Production Quality","text":"<ul> <li>\u2705 246 tests (100% passing, 74.61% coverage)</li> <li>\u2705 Circuit breaker pattern for reliability</li> <li>\u2705 LRU caching for performance</li> <li>\u2705 Rate limiting and retry logic</li> <li>\u2705 Comprehensive error handling</li> <li>\u2705 Modern TypeScript with strict mode</li> </ul>"},{"location":"#developer-friendly","title":"Developer Friendly","text":"<ul> <li>\ud83d\udcdd Comprehensive parameter descriptions</li> <li>\ud83c\udfaf Real-world usage examples</li> <li>\ud83e\uddea Well-tested (246 tests)</li> <li>\ud83c\udfd7\ufe0f Clean architecture</li> <li>\ud83d\udcda Complete documentation</li> </ul>"},{"location":"#quick-example","title":"Quick Example","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_search\",\n  \"arguments\": {\n    \"taxonKey\": 5231190,\n    \"country\": \"KE\",\n    \"year\": \"2020,2024\",\n    \"hasCoordinate\": true,\n    \"limit\": 10\n  }\n}\n</code></pre> <p>Result: Lion occurrences in Kenya from 2020-2024 with coordinates</p>"},{"location":"#statistics","title":"Statistics","text":"<ul> <li>\ud83c\udf0d 2.4 billion occurrence records</li> <li>\ud83e\udd8b 1.9 million species in taxonomy</li> <li>\ud83d\udcca 100,000+ datasets</li> <li>\ud83c\udfdb\ufe0f 2,000+ data-publishing organizations</li> <li>\ud83d\udd2c 10,000+ scientific publications tracked</li> <li>\ud83d\uddfa\ufe0f Global geographic coverage</li> </ul>"},{"location":"#get-started","title":"Get Started","text":"<p>Choose your installation method:</p> NPMDockerFrom Source <pre><code>npm install -g gbif-mcp\n</code></pre> <pre><code>docker pull gbif-mcp:latest\ndocker run -i gbif-mcp\n</code></pre> <pre><code>git clone https://github.com/yourusername/gbif-mcp.git\ncd gbif-mcp\nnpm install\nnpm run build\nnpm start\n</code></pre> <p>Get Started \u2192 View Tools \u2192</p>"},{"location":"#architecture","title":"Architecture","text":"<pre><code>graph LR\n    A[AI Assistant] --&gt;|MCP Protocol| B[GBIF MCP Server]\n    B --&gt;|57 Tools| C[Service Layer]\n    C --&gt;|HTTP Client| D[GBIF API]\n\n    C --&gt;|Cache| E[LRU Cache]\n    C --&gt;|Resilience| F[Circuit Breaker]\n    C --&gt;|Control| G[Rate Limiter]\n\n    D --&gt;|2.4B records| H[(GBIF Database)]</code></pre>"},{"location":"#use-cases","title":"Use Cases","text":""},{"location":"#research-analysis","title":"Research &amp; Analysis","text":"<ul> <li>Species distribution modeling</li> <li>Biodiversity trend analysis</li> <li>Geographic range studies</li> <li>Temporal occurrence patterns</li> </ul>"},{"location":"#data-management","title":"Data Management","text":"<ul> <li>Dataset discovery and selection</li> <li>Quality validation before publishing</li> <li>Name standardization and cleaning</li> <li>Metadata extraction</li> </ul>"},{"location":"#visualization","title":"Visualization","text":"<ul> <li>Interactive occurrence maps</li> <li>Temporal trend charts</li> <li>Geographic distribution heatmaps</li> <li>Taxonomic breakdown graphs</li> </ul>"},{"location":"#institutional-discovery","title":"Institutional Discovery","text":"<ul> <li>Find natural history collections</li> <li>Locate specimen repositories</li> <li>Discover research institutions</li> <li>Track data contributions</li> </ul>"},{"location":"#next-steps","title":"Next Steps","text":"<ol> <li>Install the server</li> <li>Configure for your environment</li> <li>Try basic queries</li> <li>Explore all 57 tools</li> <li>See advanced examples</li> </ol>"},{"location":"#support","title":"Support","text":"<ul> <li>\ud83d\udcd6 Documentation</li> <li>\ud83d\udcac GitHub Issues</li> <li>\ud83c\udf10 GBIF Portal</li> <li>\ud83d\udce7 GBIF Support</li> </ul>"},{"location":"#license","title":"License","text":"<p>Creative Commons Attribution 4.0 International License (CC-BY-4.0)</p> <p>Comprehensive biodiversity data access through AI-powered tools</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/","title":"GBIF API Coverage Gap Analysis","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#executive-summary","title":"Executive Summary","text":"<p>This document provides a comprehensive analysis of GBIF API endpoint coverage by the GBIF MCP Server, identifies gaps, prioritizes missing functionality, and recommends implementation strategies.</p> <p>Current Coverage: 44 tools covering ~55% of GBIF API Gap Identified: ~45% of API endpoints not yet implemented Priority Gaps: 10 high-priority endpoints identified</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#methodology","title":"Methodology","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#analysis-approach","title":"Analysis Approach","text":"<ol> <li>Endpoint Inventory: Cataloged all GBIF API v1 endpoints from official documentation</li> <li>Coverage Mapping: Mapped existing MCP tools to GBIF endpoints</li> <li>Gap Identification: Identified endpoints without MCP tool coverage</li> <li>Priority Classification: Categorized gaps by user value and complexity</li> <li>Implementation Planning: Recommended approaches for high-priority gaps</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#coverage-calculation","title":"Coverage Calculation","text":"<pre><code>Coverage % = (Implemented Endpoints / Total Available Endpoints) \u00d7 100\n</code></pre> <p>Note: Some endpoints are deliberately excluded (admin, internal, deprecated)</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#summary-statistics","title":"Summary Statistics","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#overall-coverage","title":"Overall Coverage","text":"Metric Count Percentage Total GBIF API Endpoints ~100 100% Implemented Endpoints ~55 55% High-Priority Gaps 10 10% Medium-Priority Gaps 25 25% Low-Priority Gaps 10 10%"},{"location":"API_COVERAGE_GAP_ANALYSIS/#coverage-by-category","title":"Coverage by Category","text":"Category Total Endpoints Implemented Coverage Gap Species 20 11 55% 9 Occurrence 25 7 28% 18 Registry 30 15 50% 15 Maps 6 4 67% 2 Literature 4 2 50% 2 Vocabularies 5 3 60% 2 Validator 10 2 20% 8"},{"location":"API_COVERAGE_GAP_ANALYSIS/#category-by-category-analysis","title":"Category-by-Category Analysis","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#1-species-api","title":"1. Species API","text":"<p>Coverage: 11 tools / 20 endpoints = 55%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-11-tools","title":"\u2705 Implemented (11 tools)","text":"<ol> <li><code>/species/search</code> - gbif_species_search</li> <li><code>/species/{key}</code> - gbif_species_get</li> <li><code>/species/suggest</code> - gbif_species_suggest</li> <li><code>/species/match</code> - gbif_species_match</li> <li><code>/species/{key}/children</code> - gbif_species_children</li> <li><code>/species/{key}/parents</code> - gbif_species_parents</li> <li><code>/species/{key}/synonyms</code> - gbif_species_synonyms</li> <li><code>/species/{key}/descriptions</code> - gbif_species_descriptions</li> <li><code>/species/{key}/distributions</code> - gbif_species_distributions</li> <li><code>/species/{key}/media</code> - gbif_species_media</li> <li><code>/species/{key}/vernacularNames</code> - gbif_species_vernacular_names</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#high-priority-gaps-3-endpoints","title":"\ud83d\udd34 HIGH Priority Gaps (3 endpoints)","text":"<p>1. <code>/species/parser</code> - Parse scientific names - Priority: HIGH - Value: Name standardization, batch processing, data cleaning - Use Case: Parse hundreds of names for quality checking - Complexity: Low (simple POST endpoint) - Recommendation: Implement <code>gbif_species_parse_names</code> tool</p> <p>2. <code>/species/{key}/metrics</code> - Species occurrence statistics - Priority: HIGH - Value: Quick statistics without full occurrence search - Use Case: Dashboard displays, data exploration - Complexity: Low (GET with key) - Recommendation: Implement <code>gbif_species_metrics</code> tool</p> <p>3. <code>/species/{key}/related</code> - Related species (siblings, etc.) - Priority: HIGH - Value: Taxonomic exploration, related species discovery - Use Case: \"See also\" functionality, taxonomy browsing - Complexity: Low (GET with key) - Recommendation: Implement <code>gbif_species_related</code> tool</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-4-endpoints","title":"\ud83d\udfe1 MEDIUM Priority Gaps (4 endpoints)","text":"<p>4. <code>/species/{key}/name</code> - Name usage details - Priority: MEDIUM - Value: Detailed nomenclatural information - Complexity: Low - Recommendation: Consider for future</p> <p>5. <code>/species/{key}/references</code> - Bibliographic references - Priority: MEDIUM - Value: Taxonomic literature - Complexity: Low - Recommendation: Low user demand</p> <p>6. <code>/species/{key}/speciesProfiles</code> - Ecological profiles - Priority: MEDIUM - Value: Habitat, behavior information - Complexity: Low - Recommendation: Nice-to-have</p> <p>7. <code>/species/{key}/typeSpecimens</code> - Type specimen info - Priority: MEDIUM - Value: Taxonomic authority - Complexity: Medium - Recommendation: Specialist use case</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#low-priority-gaps-2-endpoints","title":"\u26aa LOW Priority Gaps (2 endpoints)","text":"<p>8-9. Internal/Admin endpoints - Metrics, health checks (server-side only) - Not relevant for MCP tools</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#2-occurrence-api","title":"2. Occurrence API","text":"<p>Coverage: 7 tools / 25 endpoints = 28%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-7-tools","title":"\u2705 Implemented (7 tools)","text":"<ol> <li><code>/occurrence/search</code> - gbif_occurrence_search</li> <li><code>/occurrence/{key}</code> - gbif_occurrence_get</li> <li><code>/occurrence/count</code> - gbif_occurrence_count</li> <li><code>/occurrence/{key}/verbatim</code> - gbif_occurrence_verbatim</li> <li><code>/occurrence/download/request</code> - gbif_occurrence_download_request</li> <li><code>/occurrence/download/request/{key}</code> - gbif_occurrence_download_status</li> <li>Predicate builder - gbif_occurrence_download_predicate_builder</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#high-priority-gaps-5-endpoints","title":"\ud83d\udd34 HIGH Priority Gaps (5 endpoints)","text":"<p>1. <code>/occurrence/counts/basisOfRecord</code> - Count by record type - Priority: HIGH - Value: Understand dataset composition, filter validation - Use Case: \"Show me breakdown: 1000 specimens, 500 observations\" - Complexity: Low - Recommendation: \u2705 IMPLEMENT - Very useful for dashboards</p> <p>2. <code>/occurrence/counts/year</code> - Temporal trends - Priority: HIGH - Value: Time series analysis, trend visualization - Use Case: \"Show occurrence counts by year for lions in Kenya\" - Complexity: Low - Recommendation: \u2705 IMPLEMENT - Essential for temporal analysis</p> <p>3. <code>/occurrence/counts/countries</code> - Geographic distribution - Priority: HIGH - Value: Quick geographic summary - Use Case: \"Which countries have the most lion records?\" - Complexity: Low - Recommendation: \u2705 IMPLEMENT - Very common use case</p> <p>4. <code>/occurrence/counts/publishingCountries</code> - Data provider distribution - Priority: HIGH - Value: Understand data sources - Use Case: Data coverage analysis - Complexity: Low - Recommendation: Implement alongside countries</p> <p>5. <code>/occurrence/counts/datasets</code> - Dataset contribution analysis - Priority: HIGH - Value: Identify major data sources - Use Case: \"Which datasets contribute most to lion records?\" - Complexity: Low - Recommendation: Useful for attribution</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-8-endpoints","title":"\ud83d\udfe1 MEDIUM Priority Gaps (8 endpoints)","text":"<p>6. <code>/occurrence/counts/taxonKeys</code> - Taxonomic breakdown - Quick taxonomy counts - Medium value (covered by search facets)</p> <p>7. <code>/occurrence/{key}/fragment</code> - Verbatim record fragment - Original data fragment - Specialist use case</p> <p>8. <code>/occurrence/download</code> - Download list endpoint - List user's downloads - Requires authentication context</p> <p>9-13. Additional /occurrence/counts/* endpoints - Counts by publishingOrg, protocol, etc. - Lower priority variants</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#low-priority-gaps-5-endpoints","title":"\u26aa LOW Priority Gaps (5 endpoints)","text":"<p>14-18. Admin/internal endpoints - Inventory, experiments, internal tools - Not suitable for MCP</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#3-registry-api","title":"3. Registry API","text":"<p>Coverage: 15 tools / 30 endpoints = 50%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-15-tools","title":"\u2705 Implemented (15 tools)","text":"<p>Datasets (3): - Search, get, metrics</p> <p>Organizations (3): - Search, get, list datasets</p> <p>Networks (3): - Search, get, list datasets</p> <p>Installations (2): - Search, get</p> <p>GRSciColl Collections (2): - Search, get</p> <p>GRSciColl Institutions (2): - Search, get</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#high-priority-gaps-2-endpoints","title":"\ud83d\udd34 HIGH Priority Gaps (2 endpoints)","text":"<p>1. <code>/dataset/{key}/document</code> - EML metadata document - Priority: HIGH - Value: Ecological Metadata Language, dataset documentation - Use Case: Get structured metadata for dataset citation - Complexity: Low - Recommendation: Useful for researchers</p> <p>2. <code>/node</code> - GBIF nodes (national endpoints) - Priority: HIGH - Value: National GBIF participation info - Use Case: Discover national GBIF nodes - Complexity: Low - Recommendation: Good for institutional context</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-8-endpoints_1","title":"\ud83d\udfe1 MEDIUM Priority Gaps (8 endpoints)","text":"<p>3. <code>/organization/{key}/hostedDatasets</code> - Datasets hosted - Datasets hosted (vs published) - Distinction important for some use cases</p> <p>4. <code>/network/{key}/constituents</code> - Network members - Alternative endpoint for network datasets - Covered by existing tool</p> <p>5. <code>/installation/{key}/datasets</code> - Datasets on installation - Technical infrastructure query - Lower priority</p> <p>6-8. GRSciColl persons, staff, contacts - Person-level metadata - Specialist use case</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#low-priority-gaps-5-endpoints_1","title":"\u26aa LOW Priority Gaps (5 endpoints)","text":"<p>9-13. Admin endpoints - Node management, endorsement - Not suitable for MCP tools</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#4-maps-api","title":"4. Maps API","text":"<p>Coverage: 4 tools / 6 endpoints = 67%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-4-tools","title":"\u2705 Implemented (4 tools)","text":"<ol> <li>Tile URL generation (with filters) - gbif_maps_get_tile_url</li> <li>Vector tiles - gbif_maps_get_vector_tile_url</li> <li>Raster tiles - gbif_maps_get_raster_tile_url</li> <li>Style listing - gbif_maps_list_styles</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-1-endpoint","title":"\ud83d\udfe1 MEDIUM Priority Gaps (1 endpoint)","text":"<p>1. <code>/map/occurrence/adhoc</code> - Custom map generation - Priority: MEDIUM - Value: Generate custom static maps - Use Case: One-off map images for reports - Complexity: Medium - Recommendation: Lower priority (tiles handle most cases)</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#low-priority-gaps-1-endpoint","title":"\u26aa LOW Priority Gaps (1 endpoint)","text":"<p>2. Map capabilities endpoint - Technical metadata - Covered by service method</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#5-literature-api","title":"5. Literature API","text":"<p>Coverage: 2 tools / 4 endpoints = 50%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-2-tools","title":"\u2705 Implemented (2 tools)","text":"<ol> <li><code>/literature/search</code> - gbif_literature_search</li> <li><code>/literature/{doi}</code> - gbif_literature_get</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-2-endpoints","title":"\ud83d\udfe1 MEDIUM Priority Gaps (2 endpoints)","text":"<p>1. <code>/literature/export</code> - Export citations - Priority: MEDIUM - Value: BibTeX, RIS, CSV export for reference managers - Use Case: Generate bibliography for papers - Complexity: Low - Recommendation: \u2705 Implement in Phase 2 (already planned)</p> <p>2. <code>/literature/{id}</code> - Get by numeric ID - Priority: LOW - Value: Alternative to DOI lookup - Complexity: Low - Recommendation: DOI is preferred identifier</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#6-vocabularies-api","title":"6. Vocabularies API","text":"<p>Coverage: 3 tools / 5 endpoints = 60%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-3-tools","title":"\u2705 Implemented (3 tools)","text":"<ol> <li><code>/vocabularies</code> - gbif_vocabularies_list</li> <li><code>/vocabularies/{name}</code> - gbif_vocabularies_get</li> <li><code>/vocabularies/{name}/concepts/{concept}</code> - gbif_vocabularies_get_concept</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-2-endpoints_1","title":"\ud83d\udfe1 MEDIUM Priority Gaps (2 endpoints)","text":"<p>1. <code>/vocabularies/{name}/concepts</code> - List all concepts - Priority: MEDIUM - Value: Get all valid values for a field - Complexity: Low - Recommendation: Partially covered by get vocabulary</p> <p>2. <code>/vocabularies/{name}/concepts/suggest</code> - Concept autocomplete - Priority: LOW - Value: UI autocomplete - Complexity: Low - Recommendation: Limited use case for AI</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#7-validator-api","title":"7. Validator API","text":"<p>Coverage: 2 tools / 10 endpoints = 20%</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implemented-2-tools_1","title":"\u2705 Implemented (2 tools)","text":"<ol> <li><code>/tools/datasets/dwca/validate</code> - gbif_validator_validate_dwca</li> <li><code>/validator/status/{key}</code> - gbif_validator_get_status</li> </ol>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-gaps-5-endpoints","title":"\ud83d\udfe1 MEDIUM Priority Gaps (5 endpoints)","text":"<p>1. <code>/tools/datasets/tabular/validate</code> - Validate CSV/TSV - Priority: MEDIUM - Value: Simpler data validation - Use Case: Validate spreadsheets before DwC-A creation - Complexity: Low - Recommendation: Useful for data preparation</p> <p>2. <code>/validator/jobserver/job/{key}</code> - Detailed job status - Priority: MEDIUM - Value: More detailed validation progress - Complexity: Low - Recommendation: Enhancement to existing tool</p> <p>3-5. Additional validation endpoints - EML validation, name validation - Specialist use cases</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#low-priority-gaps-3-endpoints","title":"\u26aa LOW Priority Gaps (3 endpoints)","text":"<p>6-8. Admin/internal validation - Job management, queue status - Not suitable for MCP</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#high-priority-implementation-recommendations","title":"High-Priority Implementation Recommendations","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#immediate-value-implement-first","title":"Immediate Value (Implement First)","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#1-occurrence-counts-endpoints-3-tools","title":"1. Occurrence Counts Endpoints (3 tools)","text":"<p>Rationale: Quick statistics without heavy searches</p> <p>Tools to Implement:</p> <p>A. <code>gbif_occurrence_counts_by_basis_of_record</code> <pre><code>// Returns: { HUMAN_OBSERVATION: 1000, PRESERVED_SPECIMEN: 500, ... }\n// Use case: \"What types of records exist for lions in Kenya?\"\n</code></pre></p> <p>B. <code>gbif_occurrence_counts_by_year</code> <pre><code>// Returns: { 2020: 100, 2021: 150, 2022: 200, ... }\n// Use case: \"Show me temporal trends for species X\"\n</code></pre></p> <p>C. <code>gbif_occurrence_counts_by_country</code> <pre><code>// Returns: { US: 5000, BR: 3000, KE: 2000, ... }\n// Use case: \"Which countries have the most records?\"\n</code></pre></p> <p>Implementation Effort: 2-3 hours Value: Very high - enables dashboards and quick analysis</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#2-species-enhancement-2-tools","title":"2. Species Enhancement (2 tools)","text":"<p>A. <code>gbif_species_metrics</code> <pre><code>// GET /species/{key}/metrics\n// Returns occurrence counts, dataset count, country count\n// Use case: \"How many records exist for this species?\"\n</code></pre></p> <p>B. <code>gbif_species_parse_names</code> <pre><code>// POST /species/parser with name array\n// Returns parsed names with authorship, rank, etc.\n// Use case: \"Standardize 100 names from spreadsheet\"\n</code></pre></p> <p>Implementation Effort: 1-2 hours Value: High - common data cleaning task</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#secondary-priority","title":"Secondary Priority","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#3-registry-enhancements-2-tools","title":"3. Registry Enhancements (2 tools)","text":"<p>A. Dataset EML Document - GET <code>/dataset/{key}/document</code> - Returns Ecological Metadata Language XML - Use for citations, metadata extraction</p> <p>B. GBIF Nodes - GET <code>/node</code> and <code>/node/{key}</code> - National GBIF participant info - Institutional context</p> <p>Implementation Effort: 1-2 hours Value: Medium - specialist use cases</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#4-validator-enhancements-1-tool","title":"4. Validator Enhancements (1 tool)","text":"<p>A. Tabular Validation - POST <code>/tools/datasets/tabular/validate</code> - Validate CSV/TSV before archive creation - Simplifies data preparation workflow</p> <p>Implementation Effort: 1 hour Value: Medium - helpful but not essential</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#gap-analysis-by-priority","title":"Gap Analysis by Priority","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#high-priority-10-gaps-implement-soon","title":"\ud83d\udd34 HIGH Priority (10 gaps - Implement Soon)","text":"<p>Occurrence Counts (5): 1. counts/basisOfRecord - Record type breakdown \u2b50 2. counts/year - Temporal trends \u2b50 3. counts/countries - Geographic distribution \u2b50 4. counts/publishingCountries - Data source countries 5. counts/datasets - Dataset contributions</p> <p>Species (3): 6. /species/parser - Name parsing/standardization \u2b50 7. /species/{key}/metrics - Quick statistics \u2b50 8. /species/{key}/related - Related species</p> <p>Registry (2): 9. /dataset/{key}/document - EML metadata 10. /node - GBIF national nodes</p> <p>Estimated Implementation: 8-12 hours total Impact: Enables dashboards, quick stats, data cleaning</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-priority-25-gaps-consider-later","title":"\ud83d\udfe1 MEDIUM Priority (25 gaps - Consider Later)","text":"<p>Occurrence (8): - counts/taxonKeys, counts/publishingOrgs - fragments, experimental endpoints - Download management (list, cancel)</p> <p>Registry (8): - Organization hosted datasets - Installation datasets - GRSciColl persons/staff - Network constituents (alt endpoint)</p> <p>Validator (5): - Tabular validation - EML validation - Detailed job status - Name validation</p> <p>Literature (2): - Export to citation formats (Phase 2) - Get by numeric ID</p> <p>Vocabularies (2): - List concepts (covered by get) - Concept autocomplete</p> <p>Estimated Implementation: 20-30 hours total Impact: Moderate - specialist features</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#low-priority-10-gaps-not-recommended","title":"\u26aa LOW Priority (10 gaps - Not Recommended)","text":"<p>Admin/Internal: - Node management endpoints - Endorsement workflows - Validator job queue management - Internal metrics - Experimental features</p> <p>Deprecated: - Legacy endpoints - Replaced functionality</p> <p>Rationale: Not suitable for AI tools, require admin access, or have better alternatives</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implementation-roadmap","title":"Implementation Roadmap","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#quick-wins-8-12-hours","title":"Quick Wins (8-12 hours)","text":"<p>Phase 5A: Occurrence Counts (Priority 1) 1. Implement 3 count endpoints (basisOfRecord, year, countries) 2. Create OccurrenceService methods 3. Create MCP tools with Zod schemas 4. Add tests (3 test files)</p> <p>Expected Outcome: - 3 new tools - Dashboard/statistics capabilities - Quick data exploration</p> <p>Phase 5B: Species Enhancement (Priority 2) 1. Implement parser endpoint 2. Implement metrics endpoint 3. Create MCP tools 4. Add tests (2 test files)</p> <p>Expected Outcome: - 2 new tools - Name standardization - Quick species statistics</p> <p>Total Quick Wins: 5 new tools, ~50% of high-priority gaps</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#medium-term-20-30-hours","title":"Medium-Term (20-30 hours)","text":"<p>Phase 5C: Registry &amp; Validator 1. Dataset EML documents 2. GBIF nodes 3. Tabular validation</p> <p>Expected Outcome: - 3-4 new tools - Specialist capabilities - Enhanced metadata access</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#coverage-improvement-projection","title":"Coverage Improvement Projection","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#current-state","title":"Current State","text":"<pre><code>Tools: 44\nCoverage: ~55%\nHigh-priority gaps: 10\n</code></pre>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#after-quick-wins-phase-5a-5b","title":"After Quick Wins (Phase 5A + 5B)","text":"<pre><code>Tools: 49 (+5)\nCoverage: ~60% (+5%)\nHigh-priority gaps: 5 (-50%)\n</code></pre>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#after-medium-term-phase-5c","title":"After Medium-Term (Phase 5C)","text":"<pre><code>Tools: 52-53 (+8-9)\nCoverage: ~65% (+10%)\nHigh-priority gaps: 2 (-80%)\n</code></pre>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#after-all-practical-gaps","title":"After All Practical Gaps","text":"<pre><code>Tools: ~60\nCoverage: ~70%\nHigh-priority gaps: 0 (-100%)\n</code></pre> <p>Note: 100% coverage not recommended (diminishing returns, admin endpoints)</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#endpoint-analysis-reference","title":"Endpoint Analysis Reference","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#gbif-api-structure","title":"GBIF API Structure","text":"<p>Core Data: - Species (taxonomy) - Occurrence (observations) - Dataset (metadata)</p> <p>Supporting: - Organization (publishers) - Network (partnerships) - Installation (infrastructure)</p> <p>Augmentation: - Maps (visualization) - Literature (citations) - Vocabularies (standards) - Validator (quality)</p> <p>Admin: - Nodes (governance) - Metrics (analytics) - Management (operations)</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implementation-guidelines","title":"Implementation Guidelines","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#when-to-implement","title":"When to Implement","text":"<p>Implement if: - \u2705 High user value (common use case) - \u2705 Low complexity (simple endpoint) - \u2705 Fills clear gap (no alternative) - \u2705 Public API (no auth required for read)</p> <p>Skip if: - \u274c Admin/internal only - \u274c Deprecated or replaced - \u274c Covered by existing tool - \u274c Very specialist (low demand)</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#implementation-pattern","title":"Implementation Pattern","text":"<pre><code>// 1. Add service method\nasync methodName(params): Promise&lt;Type&gt; {\n  const response = await this.client.get('/endpoint', params);\n  return response;\n}\n\n// 2. Create tool\nexport class ToolName extends BaseTool&lt;Input, Output&gt; {\n  protected readonly name = 'gbif_category_action';\n  protected readonly description = '...';\n  protected readonly inputSchema = z.object({ ... });\n\n  protected async run(input: Input): Promise&lt;any&gt; {\n    const result = await this.service.method(input);\n    return this.formatResponse(result, metadata);\n  }\n}\n\n// 3. Register in index.ts\nthis.toolRegistry.register(new ToolName(service));\n\n// 4. Create tests\ndescribe('ToolName', () =&gt; {\n  // Definition, validation, execution, errors\n});\n</code></pre>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#cost-benefit-analysis","title":"Cost-Benefit Analysis","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#high-priority-implementations","title":"High-Priority Implementations","text":"Tool Implementation Time User Value ROI counts/basisOfRecord 1h Very High \u2b50\u2b50\u2b50\u2b50\u2b50 counts/year 1h Very High \u2b50\u2b50\u2b50\u2b50\u2b50 counts/countries 1h Very High \u2b50\u2b50\u2b50\u2b50\u2b50 species/parser 1.5h High \u2b50\u2b50\u2b50\u2b50 species/metrics 1h High \u2b50\u2b50\u2b50\u2b50 dataset/document 1h Medium \u2b50\u2b50\u2b50 node endpoints 1.5h Medium \u2b50\u2b50\u2b50 <p>Total Quick Wins: ~8 hours for 5-7 tools with very high ROI</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#recommendations","title":"Recommendations","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#immediate-actions-this-session-if-time","title":"Immediate Actions (This Session if Time)","text":"<ol> <li>\u2705 Implement 3 occurrence count tools (3 hours)</li> <li>Highest value</li> <li>Enables dashboards</li> <li> <p>Very common use cases</p> </li> <li> <p>Implement 2 species tools (2 hours)</p> </li> <li>Name parser (data cleaning)</li> <li>Metrics (quick stats)</li> </ol> <p>Total: 5 hours, 5 tools, major capability boost</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#near-term-next-session","title":"Near-Term (Next Session)","text":"<ol> <li>Dataset EML document (1 hour)</li> <li>GBIF nodes (1.5 hours)</li> <li>Tabular validator (1 hour)</li> </ol> <p>Total: 3.5 hours, 3 tools, complete high-priority gaps</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#long-term-as-needed","title":"Long-Term (As Needed)","text":"<ul> <li>Medium-priority endpoints based on user demand</li> <li>Integration tests (Phase 7)</li> <li>MkDocs documentation (Phase 6)</li> <li>Parameter audit (Phase 8)</li> </ul>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#gap-analysis-summary","title":"Gap Analysis Summary","text":""},{"location":"API_COVERAGE_GAP_ANALYSIS/#what-we-have","title":"What We Have","text":"<p>\u2705 Comprehensive species identification \u2705 Full occurrence querying \u2705 Complete registry metadata \u2705 Map visualization \u2705 Literature tracking \u2705 Standards compliance \u2705 Data validation</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#whats-missing-high-priority","title":"What's Missing (High Priority)","text":"<p>\ud83d\udd34 Quick occurrence statistics (counts/*) \ud83d\udd34 Name parsing/standardization \ud83d\udd34 Species quick stats \ud83d\udd34 EML metadata documents \ud83d\udd34 GBIF nodes</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#whats-missing-mediumlow-priority","title":"What's Missing (Medium/Low Priority)","text":"<p>\ud83d\udfe1 Specialist endpoints \ud83d\udfe1 Alternative query methods \ud83d\udfe1 Admin/management tools \u26aa Internal/deprecated endpoints</p>"},{"location":"API_COVERAGE_GAP_ANALYSIS/#conclusion","title":"Conclusion","text":"<p>Current State: Production-ready platform covering ~55% of GBIF API with high-quality implementation of most common use cases.</p> <p>Gap Assessment: 10 high-priority gaps identified, 5 very quick to implement with high ROI.</p> <p>Recommendation: Implement the 5 occurrence/species quick wins (5 hours) to boost coverage to ~60% and enable critical dashboard/statistics capabilities.</p> <p>Overall Status: \u2705 Excellent coverage of essential functionality, strategic gaps identified, clear implementation path forward.</p> <p>Gap Analysis Complete: 2026-02-03 Current Coverage: 55% | Potential with Quick Wins: 60% | Maximum Practical: ~70%</p>"},{"location":"ARCHITECTURE/","title":"GBIF MCP Server Architecture","text":""},{"location":"ARCHITECTURE/#overview","title":"Overview","text":"<p>The GBIF MCP Server provides access to the Global Biodiversity Information Facility (GBIF) API through the Model Context Protocol. It implements a clean, layered architecture with clear separation of concerns, robust error handling, and efficient resource management.</p>"},{"location":"ARCHITECTURE/#architecture-principles","title":"Architecture Principles","text":"<ol> <li>Layered Architecture: Clean separation between transport, protocol, business logic, and external API layers</li> <li>Domain-Driven Design: Each GBIF API section is encapsulated in its own service module</li> <li>Dependency Injection: Services are injected to improve testability and maintainability</li> <li>Error Resilience: Comprehensive error handling at each layer with meaningful error messages</li> <li>Performance Optimization: Intelligent caching, request batching, and rate limiting</li> <li>Type Safety: Full TypeScript implementation with strict typing throughout</li> </ol>"},{"location":"ARCHITECTURE/#system-components","title":"System Components","text":""},{"location":"ARCHITECTURE/#core-layers","title":"Core Layers","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                MCP Transport Layer               \u2502\n\u2502               (stdio communication)              \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              MCP Protocol Handler                \u2502\n\u2502        (Tool registration &amp; execution)           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502              Tool Orchestrator                   \u2502\n\u2502     (Request validation &amp; transformation)        \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502             Service Layer                        \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510           \u2502\n\u2502  \u2502Species  \u2502 \u2502Occurrence\u2502 \u2502Registry \u2502  ...      \u2502\n\u2502  \u2502Service  \u2502 \u2502Service   \u2502 \u2502Service  \u2502           \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502               GBIF API Client                    \u2502\n\u2502    (HTTP client, auth, rate limiting, retry)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                     \u2502\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502            External GBIF API                     \u2502\n\u2502         (https://api.gbif.org/v1)               \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"ARCHITECTURE/#component-responsibilities","title":"Component Responsibilities","text":""},{"location":"ARCHITECTURE/#1-mcp-transport-layer","title":"1. MCP Transport Layer","text":"<ul> <li>Handles stdio communication with MCP clients</li> <li>Manages connection lifecycle</li> <li>Serializes/deserializes JSON-RPC messages</li> </ul>"},{"location":"ARCHITECTURE/#2-mcp-protocol-handler","title":"2. MCP Protocol Handler","text":"<ul> <li>Implements MCP server capabilities</li> <li>Registers and manages tools</li> <li>Handles protocol-level errors</li> <li>Manages server metadata and versioning</li> </ul>"},{"location":"ARCHITECTURE/#3-tool-orchestrator","title":"3. Tool Orchestrator","text":"<ul> <li>Validates incoming tool requests</li> <li>Transforms parameters to service layer format</li> <li>Aggregates responses from multiple services</li> <li>Handles cross-cutting concerns (logging, metrics)</li> </ul>"},{"location":"ARCHITECTURE/#4-service-layer","title":"4. Service Layer","text":"<ul> <li>Species Service: Species lookup, search, suggestions</li> <li>Occurrence Service: Occurrence search, downloads, metrics</li> <li>Registry Service: Datasets, organizations, installations</li> <li>Maps Service: Map tiles and overlays</li> <li>Literature Service: Literature search and citations</li> <li>Vocabularies Service: Controlled vocabularies and concepts</li> <li>Validator Service: Data validation endpoints</li> </ul>"},{"location":"ARCHITECTURE/#5-gbif-api-client","title":"5. GBIF API Client","text":"<ul> <li>Manages HTTP connections</li> <li>Implements authentication flow</li> <li>Handles rate limiting with exponential backoff</li> <li>Provides request retry logic</li> <li>Caches responses where appropriate</li> </ul>"},{"location":"ARCHITECTURE/#data-flow","title":"Data Flow","text":""},{"location":"ARCHITECTURE/#request-flow","title":"Request Flow","text":"<ol> <li>MCP client sends tool invocation request</li> <li>Transport layer deserializes request</li> <li>Protocol handler validates and routes to tool</li> <li>Tool orchestrator validates parameters</li> <li>Service layer processes business logic</li> <li>API client makes HTTP request to GBIF</li> <li>Response flows back through layers with transformation</li> </ol>"},{"location":"ARCHITECTURE/#error-flow","title":"Error Flow","text":"<ul> <li>Each layer catches and enriches errors</li> <li>Protocol errors vs business errors are distinguished</li> <li>User-friendly error messages are provided</li> <li>Stack traces are logged but not exposed</li> </ul>"},{"location":"ARCHITECTURE/#security-model","title":"Security Model","text":""},{"location":"ARCHITECTURE/#authentication","title":"Authentication","text":"<ul> <li>Environment variables for GBIF credentials</li> <li>Credentials never exposed in logs or responses</li> <li>OAuth2 token management for authenticated endpoints</li> <li>Secure credential storage patterns</li> </ul>"},{"location":"ARCHITECTURE/#rate-limiting","title":"Rate Limiting","text":"<ul> <li>Per-endpoint rate limit tracking</li> <li>Exponential backoff on 429 responses</li> <li>Request queue management</li> <li>Circuit breaker pattern for repeated failures</li> </ul>"},{"location":"ARCHITECTURE/#caching-strategy","title":"Caching Strategy","text":""},{"location":"ARCHITECTURE/#response-caching","title":"Response Caching","text":"<ul> <li>In-memory LRU cache for frequent requests</li> <li>TTL based on data volatility</li> <li>Cache invalidation on updates</li> <li>Configurable cache size limits</li> </ul>"},{"location":"ARCHITECTURE/#request-deduplication","title":"Request Deduplication","text":"<ul> <li>Identical concurrent requests share responses</li> <li>Request signature generation</li> <li>Promise-based request coalescence</li> </ul>"},{"location":"ARCHITECTURE/#monitoring-observability","title":"Monitoring &amp; Observability","text":""},{"location":"ARCHITECTURE/#logging","title":"Logging","text":"<ul> <li>Structured logging with correlation IDs</li> <li>Log levels: ERROR, WARN, INFO, DEBUG</li> <li>Sensitive data masking</li> <li>Rotating file logs with size limits</li> </ul>"},{"location":"ARCHITECTURE/#metrics","title":"Metrics","text":"<ul> <li>Request/response times per endpoint</li> <li>Error rates and types</li> <li>Cache hit/miss ratios</li> <li>Rate limit encounters</li> </ul>"},{"location":"ARCHITECTURE/#deployment-considerations","title":"Deployment Considerations","text":""},{"location":"ARCHITECTURE/#environment-configuration","title":"Environment Configuration","text":"<ul> <li><code>.env</code> file for local development</li> <li>Environment variable validation on startup</li> <li>Configuration schema with defaults</li> <li>Secret management best practices</li> </ul>"},{"location":"ARCHITECTURE/#resource-requirements","title":"Resource Requirements","text":"<ul> <li>Memory: ~256MB baseline, scales with cache</li> <li>CPU: Single-threaded Node.js process</li> <li>Network: Handles concurrent API requests</li> <li>Storage: Minimal, logs and cache only</li> </ul>"},{"location":"ARCHITECTURE/#testing-strategy","title":"Testing Strategy","text":""},{"location":"ARCHITECTURE/#unit-tests","title":"Unit Tests","text":"<ul> <li>Service layer business logic</li> <li>Parameter validation</li> <li>Data transformation functions</li> <li>Error handling scenarios</li> </ul>"},{"location":"ARCHITECTURE/#integration-tests","title":"Integration Tests","text":"<ul> <li>Mock GBIF API responses</li> <li>End-to-end tool invocations</li> <li>Error propagation testing</li> <li>Rate limit simulation</li> </ul>"},{"location":"ARCHITECTURE/#performance-tests","title":"Performance Tests","text":"<ul> <li>Concurrent request handling</li> <li>Memory leak detection</li> <li>Cache effectiveness</li> <li>Response time benchmarks</li> </ul>"},{"location":"IMPLEMENTATION_GUIDE/","title":"GBIF MCP Server Implementation Guide","text":""},{"location":"IMPLEMENTATION_GUIDE/#quick-start","title":"Quick Start","text":""},{"location":"IMPLEMENTATION_GUIDE/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18 or higher</li> <li>npm or yarn package manager</li> <li>GBIF account (optional, for authenticated endpoints)</li> </ul>"},{"location":"IMPLEMENTATION_GUIDE/#installation","title":"Installation","text":"<ol> <li> <p>Clone the repository: <pre><code>git clone https://github.com/yourusername/gbif-mcp.git\ncd gbif-mcp\n</code></pre></p> </li> <li> <p>Install dependencies: <pre><code>npm install\n</code></pre></p> </li> <li> <p>Configure environment: <pre><code>cp .env.example .env\n# Edit .env with your configuration\n</code></pre></p> </li> <li> <p>Build the project: <pre><code>npm run build\n</code></pre></p> </li> <li> <p>Run the server: <pre><code>npm start\n</code></pre></p> </li> </ol>"},{"location":"IMPLEMENTATION_GUIDE/#development","title":"Development","text":""},{"location":"IMPLEMENTATION_GUIDE/#project-structure","title":"Project Structure","text":"<pre><code>gbif-mcp/\n\u251c\u2500\u2500 src/\n\u2502   \u251c\u2500\u2500 config/           # Configuration management\n\u2502   \u251c\u2500\u2500 core/             # Core infrastructure (client, registry)\n\u2502   \u251c\u2500\u2500 services/         # GBIF API service implementations\n\u2502   \u2502   \u251c\u2500\u2500 species/      # Species API service\n\u2502   \u2502   \u251c\u2500\u2500 occurrence/   # Occurrence API service\n\u2502   \u2502   \u251c\u2500\u2500 registry/     # Registry API service\n\u2502   \u2502   \u251c\u2500\u2500 maps/         # Maps API service\n\u2502   \u2502   \u251c\u2500\u2500 literature/   # Literature API service\n\u2502   \u2502   \u251c\u2500\u2500 vocabularies/ # Vocabularies API service\n\u2502   \u2502   \u2514\u2500\u2500 validator/    # Validator API service\n\u2502   \u251c\u2500\u2500 tools/            # MCP tool implementations\n\u2502   \u251c\u2500\u2500 types/            # TypeScript type definitions\n\u2502   \u251c\u2500\u2500 utils/            # Utility functions\n\u2502   \u2514\u2500\u2500 index.ts          # Main entry point\n\u251c\u2500\u2500 tests/                # Test files\n\u251c\u2500\u2500 docs/                 # Documentation\n\u2514\u2500\u2500 build/                # Compiled output\n</code></pre>"},{"location":"IMPLEMENTATION_GUIDE/#adding-new-tools","title":"Adding New Tools","text":"<ol> <li>Create a new tool class extending <code>BaseTool</code>:</li> </ol> <pre><code>import { z } from 'zod';\nimport { BaseTool } from '../base-tool.js';\n\nexport class MyNewTool extends BaseTool&lt;InputType, OutputType&gt; {\n  protected readonly name = 'gbif_my_new_tool';\n  protected readonly description = 'Description of what this tool does';\n\n  protected readonly inputSchema = z.object({\n    // Define input parameters\n  });\n\n  constructor(private service: MyService) {\n    super();\n  }\n\n  protected async run(input: InputType): Promise&lt;OutputType&gt; {\n    // Implement tool logic\n    return await this.service.doSomething(input);\n  }\n}\n</code></pre> <ol> <li>Register the tool in <code>index.ts</code>:</li> </ol> <pre><code>const myService = new MyService(this.client);\nthis.toolRegistry.register(new MyNewTool(myService));\n</code></pre>"},{"location":"IMPLEMENTATION_GUIDE/#error-handling","title":"Error Handling","text":"<p>The server implements a multi-layer error handling strategy:</p> <ol> <li>Transport Layer: Handles connection and protocol errors</li> <li>Tool Layer: Validates inputs and transforms errors</li> <li>Service Layer: Handles business logic errors</li> <li>Client Layer: Manages HTTP errors and retries</li> </ol> <p>Example error handling:</p> <pre><code>try {\n  const result = await this.service.getData(params);\n  return this.formatResponse(result);\n} catch (error) {\n  if (error.statusCode === 404) {\n    throw new Error('Resource not found in GBIF');\n  }\n  throw this.transformError(error);\n}\n</code></pre>"},{"location":"IMPLEMENTATION_GUIDE/#rate-limiting","title":"Rate Limiting","text":"<p>The server implements automatic rate limiting:</p> <ul> <li>Default: 100 requests per minute</li> <li>Concurrent requests: 10 max</li> <li>Backoff: Exponential with 2x multiplier</li> <li>Max backoff: 60 seconds</li> </ul> <p>Customize in <code>.env</code>: <pre><code>RATE_LIMIT_MAX_REQUESTS=200\nRATE_LIMIT_CONCURRENT=20\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#caching","title":"Caching","text":"<p>Response caching is enabled by default:</p> <ul> <li>Cache size: 100MB</li> <li>TTL: 1 hour</li> <li>Strategy: LRU (Least Recently Used)</li> </ul> <p>Disable or configure in <code>.env</code>: <pre><code>CACHE_ENABLED=false\nCACHE_MAX_SIZE=200\nCACHE_TTL=7200000\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#testing","title":"Testing","text":""},{"location":"IMPLEMENTATION_GUIDE/#running-tests","title":"Running Tests","text":"<pre><code># Run all tests\nnpm test\n\n# Run with coverage\nnpm run test:coverage\n\n# Run specific test file\nnpm test -- species.service.test.ts\n\n# Watch mode\nnpm test -- --watch\n</code></pre>"},{"location":"IMPLEMENTATION_GUIDE/#writing-tests","title":"Writing Tests","text":"<p>Example unit test:</p> <pre><code>import { describe, it, expect, beforeEach } from 'vitest';\nimport { SpeciesService } from '../../src/services/species/species.service.js';\n\ndescribe('SpeciesService', () =&gt; {\n  let service: SpeciesService;\n\n  beforeEach(() =&gt; {\n    service = new SpeciesService(mockClient);\n  });\n\n  it('should search for species', async () =&gt; {\n    const result = await service.search({ q: 'Puma' });\n    expect(result.results).toBeDefined();\n  });\n});\n</code></pre>"},{"location":"IMPLEMENTATION_GUIDE/#mcp-tool-reference","title":"MCP Tool Reference","text":""},{"location":"IMPLEMENTATION_GUIDE/#species-tools","title":"Species Tools","text":""},{"location":"IMPLEMENTATION_GUIDE/#gbif_species_search","title":"gbif_species_search","text":"<p>Search for species in the GBIF backbone taxonomy.</p> <p>Parameters: - <code>q</code>: Search query string - <code>rank</code>: Taxonomic rank filter - <code>status</code>: Taxonomic status filter - <code>limit</code>: Number of results (max 1000) - <code>offset</code>: Pagination offset</p> <p>Example: <pre><code>{\n  \"q\": \"Panthera\",\n  \"rank\": \"GENUS\",\n  \"limit\": 10\n}\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#gbif_species_get","title":"gbif_species_get","text":"<p>Get detailed information about a species.</p> <p>Parameters: - <code>key</code>: GBIF species key</p> <p>Example: <pre><code>{\n  \"key\": 5231190\n}\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#gbif_species_suggest","title":"gbif_species_suggest","text":"<p>Get species name suggestions for autocomplete.</p> <p>Parameters: - <code>q</code>: Partial species name - <code>limit</code>: Maximum suggestions</p> <p>Example: <pre><code>{\n  \"q\": \"Pan\",\n  \"limit\": 5\n}\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#gbif_species_match","title":"gbif_species_match","text":"<p>Fuzzy match a species name against the backbone.</p> <p>Parameters: - <code>name</code>: Species name to match - <code>strict</code>: Use strict matching</p> <p>Example: <pre><code>{\n  \"name\": \"Panthera leo\",\n  \"strict\": false\n}\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#occurrence-tools","title":"Occurrence Tools","text":"<p>(To be implemented)</p> <ul> <li><code>gbif_occurrence_search</code>: Search occurrence records</li> <li><code>gbif_occurrence_get</code>: Get occurrence by key</li> <li><code>gbif_occurrence_count</code>: Count occurrences</li> <li><code>gbif_occurrence_download</code>: Request occurrence download</li> </ul>"},{"location":"IMPLEMENTATION_GUIDE/#registry-tools","title":"Registry Tools","text":"<p>(To be implemented)</p> <ul> <li><code>gbif_dataset_search</code>: Search datasets</li> <li><code>gbif_dataset_get</code>: Get dataset by key</li> <li><code>gbif_organization_search</code>: Search organizations</li> <li><code>gbif_organization_get</code>: Get organization by key</li> </ul>"},{"location":"IMPLEMENTATION_GUIDE/#deployment","title":"Deployment","text":""},{"location":"IMPLEMENTATION_GUIDE/#docker","title":"Docker","text":"<pre><code>FROM node:18-alpine\nWORKDIR /app\nCOPY package*.json ./\nRUN npm ci --only=production\nCOPY build ./build\nCMD [\"node\", \"build/index.js\"]\n</code></pre>"},{"location":"IMPLEMENTATION_GUIDE/#environment-variables","title":"Environment Variables","text":"<p>Required for production: <pre><code>NODE_ENV=production\nLOG_LEVEL=warn\nLOG_FORMAT=json\n</code></pre></p> <p>Optional authentication: <pre><code>GBIF_USERNAME=your_username\nGBIF_PASSWORD=your_password\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#health-monitoring","title":"Health Monitoring","text":"<p>The server logs metrics that can be monitored:</p> <ul> <li>Request/response times</li> <li>Error rates by type</li> <li>Cache hit/miss ratios</li> <li>Rate limit encounters</li> </ul> <p>Example log output: <pre><code>{\n  \"timestamp\": \"2024-01-01T12:00:00Z\",\n  \"level\": \"info\",\n  \"context\": \"ToolExecution\",\n  \"tool\": \"gbif_species_search\",\n  \"duration\": 245,\n  \"success\": true\n}\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#troubleshooting","title":"Troubleshooting","text":""},{"location":"IMPLEMENTATION_GUIDE/#common-issues","title":"Common Issues","text":""},{"location":"IMPLEMENTATION_GUIDE/#rate-limiting-errors","title":"Rate Limiting Errors","text":"<p>Problem: Getting 429 errors from GBIF API Solution: Reduce concurrent requests or increase backoff time</p>"},{"location":"IMPLEMENTATION_GUIDE/#memory-usage","title":"Memory Usage","text":"<p>Problem: High memory consumption Solution: Reduce cache size or disable caching</p>"},{"location":"IMPLEMENTATION_GUIDE/#authentication-failures","title":"Authentication Failures","text":"<p>Problem: 401 errors on protected endpoints Solution: Verify GBIF credentials in <code>.env</code></p>"},{"location":"IMPLEMENTATION_GUIDE/#connection-timeouts","title":"Connection Timeouts","text":"<p>Problem: Requests timing out Solution: Increase <code>GBIF_TIMEOUT</code> value</p>"},{"location":"IMPLEMENTATION_GUIDE/#debug-mode","title":"Debug Mode","text":"<p>Enable detailed logging: <pre><code>LOG_LEVEL=debug\nLOG_FORMAT=simple\n</code></pre></p>"},{"location":"IMPLEMENTATION_GUIDE/#support","title":"Support","text":"<p>For issues or questions: 1. Check the Architecture Documentation 2. Review test files for usage examples 3. Enable debug logging for detailed traces 4. Submit issues with reproduction steps</p>"},{"location":"PROTOCOL_LAYER/","title":"MCP Protocol Layer Documentation","text":""},{"location":"PROTOCOL_LAYER/#overview","title":"Overview","text":"<p>The Protocol Layer is the core of the GBIF MCP Server, implementing the Model Context Protocol specification with production-ready features including correlation tracking, comprehensive error handling, and circuit breaker integration.</p>"},{"location":"PROTOCOL_LAYER/#architecture","title":"Architecture","text":"<p>The protocol layer consists of three main components:</p>"},{"location":"PROTOCOL_LAYER/#1-mcp-errors-srcprotocolmcp-errorsts","title":"1. MCP Errors (<code>src/protocol/mcp-errors.ts</code>)","text":"<p>Standardized error handling following the JSON-RPC 2.0 specification.</p> <p>Features: - Standard and custom error codes - Structured error responses - Error type classification (retryable, user-facing) - Automatic error transformation from GBIF API errors</p> <p>Error Codes: <pre><code>enum MCPErrorCode {\n  // Standard JSON-RPC errors\n  PARSE_ERROR = -32700,\n  INVALID_REQUEST = -32600,\n  METHOD_NOT_FOUND = -32601,\n  INVALID_PARAMS = -32602,\n  INTERNAL_ERROR = -32603,\n\n  // MCP-specific errors\n  TOOL_NOT_FOUND = -32000,\n  TOOL_EXECUTION_ERROR = -32001,\n  VALIDATION_ERROR = -32002,\n  RATE_LIMIT_ERROR = -32003,\n  SERVICE_UNAVAILABLE = -32004,\n  CIRCUIT_BREAKER_OPEN = -32005,\n  TIMEOUT_ERROR = -32006,\n}\n</code></pre></p> <p>Usage: <pre><code>import { MCPError, MCPErrorCode } from './protocol/mcp-errors.js';\n\n// Create an MCP error\nthrow new MCPError(\n  MCPErrorCode.TOOL_NOT_FOUND,\n  'Tool not found: species_search',\n  { availableTools: ['species_search', 'species_get'] }\n);\n\n// Convert from standard Error\nconst mcpError = MCPError.fromError(error);\n\n// Check error characteristics\nif (mcpError.isRetryable()) {\n  // Retry logic\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#2-request-handler-srcprotocolrequest-handlerts","title":"2. Request Handler (<code>src/protocol/request-handler.ts</code>)","text":"<p>Centralized request handling with correlation tracking and context management.</p> <p>Features: - Correlation ID generation and tracking - Request context management - Execution timing - Consistent logging - Error boundary wrapping</p> <p>Request Context: <pre><code>interface RequestContext {\n  correlationId: string;\n  requestId?: string;\n  toolName?: string;\n  startTime: number;\n  metadata?: Record&lt;string, any&gt;;\n}\n</code></pre></p> <p>Usage: <pre><code>import { RequestHandler } from './protocol/request-handler.js';\n\n// Wrap any handler with context\nconst result = await RequestHandler.withContext(\n  'MyOperation',\n  async (context) =&gt; {\n    // Your code here - correlation ID is automatically tracked\n    logger.info('Processing', { correlationId: context.correlationId });\n    return data;\n  },\n  { additionalMetadata: 'value' }\n);\n\n// Tool execution wrapper\nconst response = await RequestHandler.executeTool(\n  'species_search',\n  async (context) =&gt; {\n    return await tool.execute(args);\n  },\n  args\n);\n</code></pre></p> <p>Response Formatter: <pre><code>import { ResponseFormatter } from './protocol/request-handler.js';\n\n// Format success response\nconst response = ResponseFormatter.success(data, { toolName: 'species_search' });\n\n// Format error response\nconst errorResponse = ResponseFormatter.error(error, { toolName: 'species_search' });\n\n// Format paginated response\nconst paginated = ResponseFormatter.paginated(\n  items,\n  { offset: 0, limit: 20, total: 100, hasMore: true },\n  metadata\n);\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#3-main-server-srcindexts","title":"3. Main Server (<code>src/index.ts</code>)","text":"<p>Production-ready MCP server with full protocol implementation.</p> <p>Features: - Tool registration and discovery - Protocol request handlers (list tools, call tool) - Circuit breaker state monitoring - Server statistics and health checks - Graceful shutdown - Comprehensive error handling</p> <p>Server Statistics: <pre><code>interface ServerStats {\n  startTime: Date;\n  requestCount: number;\n  successCount: number;\n  errorCount: number;\n  toolExecutions: Map&lt;string, number&gt;;\n}\n</code></pre></p> <p>Health Status: <pre><code>{\n  status: 'healthy' | 'degraded' | 'unhealthy',\n  uptime: number,\n  stats: ServerStats,\n  circuitBreaker: 'CLOSED' | 'OPEN' | 'HALF_OPEN'\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#protocol-handlers","title":"Protocol Handlers","text":""},{"location":"PROTOCOL_LAYER/#list-tools-handler","title":"List Tools Handler","text":"<p>Returns all registered tools with their JSON schema definitions.</p> <p>Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"tools/list\",\n  \"id\": 1\n}\n</code></pre></p> <p>Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"tools\": [\n      {\n        \"name\": \"gbif_species_search\",\n        \"description\": \"Search for species in GBIF backbone taxonomy\",\n        \"inputSchema\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"q\": { \"type\": \"string\", \"description\": \"Search query\" },\n            \"limit\": { \"type\": \"number\", \"description\": \"Number of results\" }\n          },\n          \"required\": [\"q\"]\n        }\n      }\n    ]\n  },\n  \"id\": 1\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#call-tool-handler","title":"Call Tool Handler","text":"<p>Executes a tool with the provided arguments.</p> <p>Request: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"method\": \"tools/call\",\n  \"params\": {\n    \"name\": \"gbif_species_search\",\n    \"arguments\": {\n      \"q\": \"Puma concolor\",\n      \"limit\": 10\n    }\n  },\n  \"id\": 2\n}\n</code></pre></p> <p>Success Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"{\\\"success\\\":true,\\\"data\\\":[...],\\\"metadata\\\":{...}}\"\n      }\n    ]\n  },\n  \"id\": 2\n}\n</code></pre></p> <p>Error Response: <pre><code>{\n  \"jsonrpc\": \"2.0\",\n  \"result\": {\n    \"content\": [\n      {\n        \"type\": \"text\",\n        \"text\": \"{\\\"error\\\":true,\\\"code\\\":-32000,\\\"message\\\":\\\"Tool not found\\\",\\\"tool\\\":\\\"unknown_tool\\\",\\\"timestamp\\\":\\\"...\\\"}\"\n      }\n    ],\n    \"isError\": true\n  },\n  \"id\": 2\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#correlation-id-tracking","title":"Correlation ID Tracking","text":"<p>Every request is assigned a unique correlation ID for tracing through the system.</p> <p>Generation: <pre><code>const correlationId = generateCorrelationId();\n// Format: \"1699112400000-abc123def\"\n</code></pre></p> <p>Context Propagation: <pre><code>// Automatically propagated through AsyncLocalStorage\nawait RequestHandler.withContext('Operation', async (context) =&gt; {\n  logger.info('Message', { correlationId: context.correlationId });\n  // Correlation ID is available in all nested calls\n});\n</code></pre></p> <p>Logging: All log entries automatically include the correlation ID: <pre><code>{\n  \"timestamp\": \"2024-11-04 12:30:00\",\n  \"level\": \"info\",\n  \"message\": \"Tool invocation started\",\n  \"correlationId\": \"1699112400000-abc123def\",\n  \"tool\": \"species_search\"\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#error-handling","title":"Error Handling","text":""},{"location":"PROTOCOL_LAYER/#error-flow","title":"Error Flow","text":"<ol> <li>Error occurs in tool or service</li> <li>Error is caught by BaseTool or RequestHandler</li> <li>Error is transformed to MCPError</li> <li>Error is formatted for MCP response</li> <li>Error is logged with correlation ID</li> </ol>"},{"location":"PROTOCOL_LAYER/#error-types","title":"Error Types","text":"<p>User Errors (4xx equivalent): - <code>INVALID_PARAMS</code>: Bad request parameters - <code>VALIDATION_ERROR</code>: Schema validation failed - <code>TOOL_NOT_FOUND</code>: Requested tool doesn't exist</p> <p>Service Errors (5xx equivalent): - <code>INTERNAL_ERROR</code>: Unexpected server error - <code>SERVICE_UNAVAILABLE</code>: GBIF API unavailable - <code>TIMEOUT_ERROR</code>: Request timeout - <code>RATE_LIMIT_ERROR</code>: Rate limit exceeded</p> <p>System Errors: - <code>CIRCUIT_BREAKER_OPEN</code>: Circuit breaker protecting service</p>"},{"location":"PROTOCOL_LAYER/#error-response-format","title":"Error Response Format","text":"<pre><code>{\n  error: true,\n  code: MCPErrorCode,\n  message: string,\n  tool: string,\n  data?: any,\n  timestamp: string\n}\n</code></pre>"},{"location":"PROTOCOL_LAYER/#circuit-breaker-integration","title":"Circuit Breaker Integration","text":"<p>The protocol layer integrates with the GBIFClient circuit breaker:</p> <p>States: - <code>CLOSED</code>: Normal operation - <code>OPEN</code>: Too many errors, rejecting requests - <code>HALF_OPEN</code>: Testing if service recovered</p> <p>Protocol Behavior: - Before tool execution, check circuit breaker state - If OPEN, return <code>CIRCUIT_BREAKER_OPEN</code> error immediately - No GBIF API calls are made when circuit is OPEN - Automatic recovery when circuit transitions to CLOSED</p> <p>Error Response: <pre><code>{\n  \"error\": true,\n  \"code\": -32005,\n  \"message\": \"Service temporarily unavailable due to high error rate\",\n  \"data\": { \"circuitState\": \"OPEN\" },\n  \"timestamp\": \"2024-11-04T12:30:00Z\"\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#monitoring-and-metrics","title":"Monitoring and Metrics","text":""},{"location":"PROTOCOL_LAYER/#server-statistics","title":"Server Statistics","text":"<p>Tracked automatically: - Total request count - Success/error counts - Success rate percentage - Top executed tools - Circuit breaker state - Cache statistics</p> <p>Periodic Logging: Statistics are logged every 5 minutes when metrics are enabled: <pre><code>{\n  \"uptime\": \"120 minutes\",\n  \"requests\": {\n    \"total\": 1523,\n    \"successful\": 1498,\n    \"failed\": 25,\n    \"successRate\": \"98.36%\"\n  },\n  \"topTools\": [\n    { \"name\": \"species_search\", \"count\": 842 },\n    { \"name\": \"species_get\", \"count\": 431 }\n  ],\n  \"circuitBreaker\": { \"state\": \"CLOSED\" },\n  \"cache\": { \"size\": 45231, \"itemCount\": 156 }\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#health-checks","title":"Health Checks","text":"<p>Health status determined by: - Circuit breaker state - Success rate - Server uptime</p> <p>Status Levels: - <code>healthy</code>: Circuit CLOSED, success rate &gt; 90% - <code>degraded</code>: Circuit HALF_OPEN or success rate 50-90% - <code>unhealthy</code>: Circuit OPEN or success rate &lt; 50%</p>"},{"location":"PROTOCOL_LAYER/#graceful-shutdown","title":"Graceful Shutdown","text":"<p>The server handles shutdown signals properly:</p> <p>Signals Handled: - <code>SIGINT</code> (Ctrl+C) - <code>SIGTERM</code> (Docker/Kubernetes) - <code>SIGHUP</code></p> <p>Shutdown Process: 1. Set shutdown flag (prevent new requests) 2. Log final statistics 3. Close MCP server connection 4. Flush logger 5. Exit with code 0</p>"},{"location":"PROTOCOL_LAYER/#testing-the-protocol-layer","title":"Testing the Protocol Layer","text":""},{"location":"PROTOCOL_LAYER/#manual-testing","title":"Manual Testing","text":"<p>Run the server in development mode: <pre><code>npm run dev\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#integration-with-claude-desktop","title":"Integration with Claude Desktop","text":"<p>Add to Claude Desktop config: <pre><code>{\n  \"mcpServers\": {\n    \"gbif\": {\n      \"command\": \"node\",\n      \"args\": [\"/path/to/gbif-mcp/build/index.js\"]\n    }\n  }\n}\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#expected-behavior","title":"Expected Behavior","text":"<ol> <li>Server starts and logs initialization</li> <li>Lists 4 species tools</li> <li>Accepts tool calls via stdio</li> <li>Returns structured JSON responses</li> <li>Handles errors gracefully</li> <li>Logs statistics periodically</li> <li>Shuts down cleanly on signal</li> </ol>"},{"location":"PROTOCOL_LAYER/#best-practices","title":"Best Practices","text":""},{"location":"PROTOCOL_LAYER/#for-tool-developers","title":"For Tool Developers","text":"<ol> <li>Always use BaseTool</li> <li>Inherit from BaseTool for automatic validation and error handling</li> <li> <p>Define clear input/output schemas</p> </li> <li> <p>Use formatResponse</p> </li> <li>Consistent response format</li> <li> <p>Automatic metadata inclusion</p> </li> <li> <p>Throw meaningful errors</p> </li> <li>Use descriptive error messages</li> <li>Include helpful data in errors</li> </ol>"},{"location":"PROTOCOL_LAYER/#for-service-developers","title":"For Service Developers","text":"<ol> <li>Use Logger</li> <li>Log important operations</li> <li>Include relevant context</li> <li> <p>Correlation IDs are automatic</p> </li> <li> <p>Handle GBIF errors</p> </li> <li>Let errors propagate to BaseTool</li> <li> <p>Add service-specific context</p> </li> <li> <p>Consider caching</p> </li> <li>GBIFClient handles caching</li> <li>Focus on business logic</li> </ol>"},{"location":"PROTOCOL_LAYER/#future-enhancements","title":"Future Enhancements","text":""},{"location":"PROTOCOL_LAYER/#phase-4-resources","title":"Phase 4: Resources","text":"<ul> <li>Implement MCP resources for common datasets</li> <li>Resource templates for queries</li> </ul>"},{"location":"PROTOCOL_LAYER/#phase-5-prompts","title":"Phase 5: Prompts","text":"<ul> <li>Add prompt templates for common workflows</li> <li>Prompt arguments with validation</li> </ul>"},{"location":"PROTOCOL_LAYER/#advanced-features","title":"Advanced Features","text":"<ul> <li>Request rate limiting per client</li> <li>Request queue management</li> <li>Response streaming for large datasets</li> <li>WebSocket transport support</li> </ul>"},{"location":"PROTOCOL_LAYER/#troubleshooting","title":"Troubleshooting","text":""},{"location":"PROTOCOL_LAYER/#common-issues","title":"Common Issues","text":"<p>Issue: \"Circuit breaker is OPEN\" - Cause: Too many failed requests to GBIF API - Solution: Wait for automatic recovery, or reset circuit breaker - Prevention: Check GBIF service status, validate requests</p> <p>Issue: \"Tool execution failed\" - Check correlation ID in logs - Trace request through log chain - Verify input parameters</p> <p>Issue: \"Server not responding\" - Check process is running - Verify stdio transport - Check for uncaught errors in logs</p>"},{"location":"PROTOCOL_LAYER/#debug-logging","title":"Debug Logging","text":"<p>Enable debug logging: <pre><code>LOG_LEVEL=debug npm run dev\n</code></pre></p>"},{"location":"PROTOCOL_LAYER/#monitoring","title":"Monitoring","text":"<p>Watch for: - Success rate drops below 95% - Circuit breaker state changes - Increased error counts - High request latency</p>"},{"location":"PROTOCOL_LAYER/#summary","title":"Summary","text":"<p>The MCP Protocol Layer provides: - Production-ready MCP server implementation - Comprehensive error handling - Request correlation tracking - Circuit breaker integration - Server monitoring and health checks - Graceful lifecycle management</p> <p>This foundation is ready for adding additional GBIF service tools while maintaining reliability, observability, and maintainability.</p>"},{"location":"api-reference/tools/","title":"Complete Tool Reference","text":"<p>Comprehensive reference for all 57 GBIF MCP tools.</p>"},{"location":"api-reference/tools/#species-tools-14","title":"Species Tools (14)","text":""},{"location":"api-reference/tools/#core-species-operations","title":"Core Species Operations","text":""},{"location":"api-reference/tools/#gbif_species_search","title":"<code>gbif_species_search</code>","text":"<p>Search for species in the GBIF taxonomic backbone.</p> <p>Parameters: - <code>q</code> (string, optional) - Search query - <code>rank</code> (enum, optional) - KINGDOM, PHYLUM, CLASS, ORDER, FAMILY, GENUS, SPECIES - <code>status</code> (array, optional) - ACCEPTED, DOUBTFUL, SYNONYM - <code>habitat</code> (array, optional) - MARINE, FRESHWATER, TERRESTRIAL - <code>threat</code> (array, optional) - IUCN status (EX, CR, EN, VU, NT, LC, DD) - <code>limit</code> (number, default: 20) - Results per page - <code>offset</code> (number, default: 0) - Pagination offset</p> <p>Example: <pre><code>{\n  \"q\": \"Panthera\",\n  \"rank\": \"GENUS\",\n  \"limit\": 10\n}\n</code></pre></p>"},{"location":"api-reference/tools/#gbif_species_get","title":"<code>gbif_species_get</code>","text":"<p>Get detailed species information by GBIF key.</p> <p>Parameters: - <code>key</code> (number, required) - GBIF species key</p> <p>Example: <pre><code>{\"key\": 5231190}\n</code></pre></p>"},{"location":"api-reference/tools/#gbif_species_match","title":"<code>gbif_species_match</code>","text":"<p>Fuzzy match scientific names to GBIF backbone.</p> <p>Parameters: - <code>name</code> (string, required) - Scientific name to match - <code>strict</code> (boolean, optional) - Exact matching only</p>"},{"location":"api-reference/tools/#gbif_species_suggest","title":"<code>gbif_species_suggest</code>","text":"<p>Get autocomplete suggestions for species names.</p> <p>Parameters: - <code>q</code> (string, required) - Query string - <code>limit</code> (number, default: 10) - Max suggestions</p>"},{"location":"api-reference/tools/#species-relationships","title":"Species Relationships","text":""},{"location":"api-reference/tools/#gbif_species_children","title":"<code>gbif_species_children</code>","text":"<p>Get direct child taxa (e.g., species under genus).</p> <p>Parameters: - <code>key</code> (number, required) - Parent taxon key - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#gbif_species_parents","title":"<code>gbif_species_parents</code>","text":"<p>Get complete higher classification (kingdom \u2192 species).</p> <p>Parameters: - <code>key</code> (number, required) - Species key</p>"},{"location":"api-reference/tools/#gbif_species_related","title":"<code>gbif_species_related</code>","text":"<p>Get related species (siblings, variants).</p> <p>Parameters: - <code>key</code> (number, required) - Species key - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#gbif_species_synonyms","title":"<code>gbif_species_synonyms</code>","text":"<p>Get all synonyms for a species.</p> <p>Parameters: - <code>key</code> (number, required) - Species key - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#species-information","title":"Species Information","text":""},{"location":"api-reference/tools/#gbif_species_vernacular_names","title":"<code>gbif_species_vernacular_names</code>","text":"<p>Get common names in all languages.</p> <p>Parameters: - <code>key</code> (number, required) - Species key - <code>language</code> (string, optional) - ISO 639-1 language code - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#gbif_species_descriptions","title":"<code>gbif_species_descriptions</code>","text":"<p>Get textual species descriptions.</p> <p>Parameters: - <code>key</code> (number, required) - Species key - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#gbif_species_distributions","title":"<code>gbif_species_distributions</code>","text":"<p>Get geographic distribution information.</p> <p>Parameters: - <code>key</code> (number, required) - Species key - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#gbif_species_media","title":"<code>gbif_species_media</code>","text":"<p>Get images and multimedia.</p> <p>Parameters: - <code>key</code> (number, required) - Species key - <code>limit</code>, <code>offset</code> - Pagination</p>"},{"location":"api-reference/tools/#species-analytics","title":"Species Analytics","text":""},{"location":"api-reference/tools/#gbif_species_metrics","title":"<code>gbif_species_metrics</code>","text":"<p>Get quick occurrence statistics for a species.</p> <p>Parameters: - <code>key</code> (number, required) - Species key</p> <p>Returns: Occurrence counts, dataset counts, geographic spread</p>"},{"location":"api-reference/tools/#gbif_species_parse_names","title":"<code>gbif_species_parse_names</code>","text":"<p>Parse and standardize scientific names (batch processing).</p> <p>Parameters: - <code>names</code> (array of strings, required) - Names to parse (max: 1000)</p> <p>Returns: Parsed components (genus, species, authorship, year, rank)</p> <p>Example: <pre><code>{\n  \"names\": [\n    \"Panthera leo (Linnaeus, 1758)\",\n    \"Puma concolor\",\n    \"Quercus robur L.\"\n  ]\n}\n</code></pre></p>"},{"location":"api-reference/tools/#occurrence-tools-14","title":"Occurrence Tools (14)","text":""},{"location":"api-reference/tools/#core-occurrence-operations","title":"Core Occurrence Operations","text":""},{"location":"api-reference/tools/#gbif_occurrence_search","title":"<code>gbif_occurrence_search</code>","text":"<p>Search occurrence records with extensive filtering.</p> <p>Parameters: - Taxonomic: <code>taxonKey</code>, <code>scientificName</code>, <code>kingdomKey</code>, etc. - Geographic: <code>country</code>, <code>continent</code>, <code>decimalLatitude</code>, <code>decimalLongitude</code>, <code>geometry</code> - Temporal: <code>year</code>, <code>month</code>, <code>eventDate</code> - Quality: <code>hasCoordinate</code>, <code>hasGeospatialIssue</code>, <code>issue</code> - Data: <code>datasetKey</code>, <code>publishingOrg</code>, <code>basisOfRecord</code> - Pagination: <code>limit</code>, <code>offset</code></p>"},{"location":"api-reference/tools/#gbif_occurrence_get","title":"<code>gbif_occurrence_get</code>","text":"<p>Get single occurrence by key.</p> <p>Parameters: - <code>key</code> (number, required) - Occurrence key</p>"},{"location":"api-reference/tools/#gbif_occurrence_count","title":"<code>gbif_occurrence_count</code>","text":"<p>Fast count of matching occurrences.</p> <p>Parameters: Same filters as search</p>"},{"location":"api-reference/tools/#gbif_occurrence_verbatim","title":"<code>gbif_occurrence_verbatim</code>","text":"<p>Get original, unprocessed occurrence data.</p> <p>Parameters: - <code>key</code> (number, required) - Occurrence key</p>"},{"location":"api-reference/tools/#download-operations","title":"Download Operations","text":""},{"location":"api-reference/tools/#gbif_occurrence_download_request","title":"<code>gbif_occurrence_download_request</code>","text":"<p>Request large dataset download (requires auth).</p> <p>Parameters: - <code>creator</code> (string, required) - GBIF username - <code>predicate</code> (object, required) - Download filters - <code>format</code> (enum, optional) - DWCA, SIMPLE_CSV, SPECIES_LIST - <code>notificationAddresses</code> (array, optional) - Email notifications</p>"},{"location":"api-reference/tools/#gbif_occurrence_download_status","title":"<code>gbif_occurrence_download_status</code>","text":"<p>Check download job status.</p> <p>Parameters: - <code>downloadKey</code> (string, required) - Download ID</p>"},{"location":"api-reference/tools/#gbif_occurrence_download_predicate_builder","title":"<code>gbif_occurrence_download_predicate_builder</code>","text":"<p>Helper to build download predicates.</p>"},{"location":"api-reference/tools/#statistics-suite-7-tools","title":"Statistics Suite (7 tools)","text":""},{"location":"api-reference/tools/#gbif_occurrence_counts_by_basis_of_record","title":"<code>gbif_occurrence_counts_by_basis_of_record</code>","text":"<p>Breakdown by observation type (specimens, observations, etc.).</p> <p>Returns: <code>{ \"HUMAN_OBSERVATION\": 1000, \"PRESERVED_SPECIMEN\": 500, ... }</code></p>"},{"location":"api-reference/tools/#gbif_occurrence_counts_by_year","title":"<code>gbif_occurrence_counts_by_year</code>","text":"<p>Temporal trends year-by-year.</p> <p>Returns: <code>{ \"2020\": 100, \"2021\": 150, \"2022\": 200, ... }</code></p>"},{"location":"api-reference/tools/#gbif_occurrence_counts_by_country","title":"<code>gbif_occurrence_counts_by_country</code>","text":"<p>Geographic distribution by country.</p> <p>Returns: <code>{ \"US\": 5000, \"BR\": 3000, \"KE\": 2000, ... }</code></p>"},{"location":"api-reference/tools/#gbif_occurrence_counts_by_publishing_country","title":"<code>gbif_occurrence_counts_by_publishing_country</code>","text":"<p>Data provider countries.</p> <p>Returns: Country codes with counts</p>"},{"location":"api-reference/tools/#gbif_occurrence_counts_by_dataset","title":"<code>gbif_occurrence_counts_by_dataset</code>","text":"<p>Dataset contribution analysis.</p> <p>Returns: <code>{ \"dataset-uuid\": 10000, ... }</code></p>"},{"location":"api-reference/tools/#gbif_occurrence_counts_by_taxon","title":"<code>gbif_occurrence_counts_by_taxon</code>","text":"<p>Taxonomic composition.</p> <p>Returns: <code>{ \"taxonKey\": count, ... }</code></p>"},{"location":"api-reference/tools/#gbif_occurrence_counts_by_publishing_org","title":"<code>gbif_occurrence_counts_by_publishing_org</code>","text":"<p>Institutional contributions.</p> <p>Returns: <code>{ \"org-uuid\": count, ... }</code></p>"},{"location":"api-reference/tools/#registry-tools-17","title":"Registry Tools (17)","text":""},{"location":"api-reference/tools/#datasets","title":"Datasets","text":"<ul> <li><code>gbif_registry_search_datasets</code> - Find datasets by type/keyword</li> <li><code>gbif_registry_get_dataset</code> - Get complete metadata</li> <li><code>gbif_registry_dataset_metrics</code> - Occurrence statistics</li> <li><code>gbif_registry_dataset_document</code> - EML metadata (XML)</li> </ul>"},{"location":"api-reference/tools/#organizations","title":"Organizations","text":"<ul> <li><code>gbif_registry_search_organizations</code> - Find data publishers</li> <li><code>gbif_registry_get_organization</code> - Organization details</li> <li><code>gbif_registry_organization_datasets</code> - Org's dataset catalog</li> </ul>"},{"location":"api-reference/tools/#networks","title":"Networks","text":"<ul> <li><code>gbif_registry_search_networks</code> - Find collaborative networks</li> <li><code>gbif_registry_get_network</code> - Network details</li> <li><code>gbif_registry_network_datasets</code> - Network constituents</li> </ul>"},{"location":"api-reference/tools/#infrastructure","title":"Infrastructure","text":"<ul> <li><code>gbif_registry_search_installations</code> - Find IPT servers</li> <li><code>gbif_registry_get_installation</code> - Installation details</li> </ul>"},{"location":"api-reference/tools/#grscicoll","title":"GRSciColl","text":"<ul> <li><code>gbif_registry_search_collections</code> - Natural history collections</li> <li><code>gbif_registry_get_collection</code> - Collection metadata</li> <li><code>gbif_registry_search_institutions</code> - Scientific institutions</li> <li><code>gbif_registry_get_institution</code> - Institution details</li> </ul>"},{"location":"api-reference/tools/#governance","title":"Governance","text":"<ul> <li><code>gbif_registry_list_nodes</code> - GBIF participant nodes</li> <li><code>gbif_registry_get_node</code> - Node details</li> </ul>"},{"location":"api-reference/tools/#maps-tools-4","title":"Maps Tools (4)","text":"<ul> <li><code>gbif_maps_get_tile_url</code> - Generate tile URLs (with filters)</li> <li><code>gbif_maps_get_vector_tile_url</code> - MVT vector tiles</li> <li><code>gbif_maps_get_raster_tile_url</code> - PNG raster tiles</li> <li><code>gbif_maps_list_styles</code> - Available color schemes</li> </ul>"},{"location":"api-reference/tools/#literature-tools-2","title":"Literature Tools (2)","text":"<ul> <li><code>gbif_literature_search</code> - Find publications citing GBIF</li> <li><code>gbif_literature_get</code> - Get publication by DOI</li> </ul>"},{"location":"api-reference/tools/#vocabularies-tools-3","title":"Vocabularies Tools (3)","text":"<ul> <li><code>gbif_vocabularies_list</code> - All controlled vocabularies</li> <li><code>gbif_vocabularies_get</code> - Get specific vocabulary</li> <li><code>gbif_vocabularies_get_concept</code> - Get concept definition</li> </ul>"},{"location":"api-reference/tools/#validator-tools-3","title":"Validator Tools (3)","text":"<ul> <li><code>gbif_validator_validate_dwca</code> - Validate Darwin Core Archives</li> <li><code>gbif_validator_validate_tabular</code> - Validate CSV/TSV files</li> <li><code>gbif_validator_get_status</code> - Check validation job status</li> </ul>"},{"location":"api-reference/tools/#tool-naming-convention","title":"Tool Naming Convention","text":"<p>All tools follow consistent naming:</p> <pre><code>gbif_{category}_{action}_{optional_specifier}\n</code></pre> <p>Examples: - <code>gbif_species_search</code> - Search species - <code>gbif_occurrence_counts_by_year</code> - Occurrence counts broken down by year - <code>gbif_registry_search_datasets</code> - Search registry for datasets</p>"},{"location":"api-reference/tools/#response-format","title":"Response Format","text":"<p>All tools return standardized responses:</p> <pre><code>{\n  \"success\": true,\n  \"data\": { /* tool-specific data */ },\n  \"metadata\": {\n    \"tool\": \"tool_name\",\n    \"timestamp\": \"ISO 8601 timestamp\",\n    /* additional context */\n  }\n}\n</code></pre>"},{"location":"api-reference/tools/#parameter-types","title":"Parameter Types","text":""},{"location":"api-reference/tools/#common-types","title":"Common Types","text":"<ul> <li>UUID - String in format: <code>\"550e8400-e29b-41d4-a716-446655440000\"</code></li> <li>ISO Country Code - 2-letter code: <code>\"US\"</code>, <code>\"BR\"</code>, <code>\"KE\"</code></li> <li>Year Range - Single <code>\"2024\"</code> or range <code>\"2020,2024\"</code></li> <li>Coordinates - Decimal degrees: <code>-90</code> to <code>90</code> (lat), <code>-180</code> to <code>180</code> (lon)</li> <li>WKT Geometry - Well-Known Text: <code>\"POLYGON((...))\"</code></li> </ul>"},{"location":"api-reference/tools/#enumerations","title":"Enumerations","text":"<p>Common enum values used across tools:</p> <p>Rank: KINGDOM, PHYLUM, CLASS, ORDER, FAMILY, GENUS, SPECIES, SUBSPECIES</p> <p>Basis of Record: HUMAN_OBSERVATION, PRESERVED_SPECIMEN, FOSSIL_SPECIMEN, LIVING_SPECIMEN, MACHINE_OBSERVATION, MATERIAL_SAMPLE</p> <p>Dataset Type: OCCURRENCE, CHECKLIST, SAMPLING_EVENT, METADATA</p> <p>Continent: AFRICA, ANTARCTICA, ASIA, EUROPE, NORTH_AMERICA, OCEANIA, SOUTH_AMERICA</p>"},{"location":"api-reference/tools/#getting-help","title":"Getting Help","text":"<ul> <li>Check specific tool guides for detailed examples</li> <li>See Examples for real-world usage</li> <li>Review Developer Guide for technical details</li> <li>Browse GBIF API Documentation for endpoint details</li> </ul>"},{"location":"examples/basic-queries/","title":"Basic Query Examples","text":"<p>Real-world examples demonstrating common GBIF MCP Server use cases.</p>"},{"location":"examples/basic-queries/#species-identification","title":"Species Identification","text":""},{"location":"examples/basic-queries/#find-a-species-by-name","title":"Find a Species by Name","text":"<pre><code>{\n  \"tool\": \"gbif_species_search\",\n  \"arguments\": {\n    \"q\": \"African lion\"\n  }\n}\n</code></pre> <p>Result: Species matching \"African lion\" with GBIF keys</p>"},{"location":"examples/basic-queries/#get-exact-species-match","title":"Get Exact Species Match","text":"<pre><code>{\n  \"tool\": \"gbif_species_match\",\n  \"arguments\": {\n    \"name\": \"Panthera leo\",\n    \"strict\": true\n  }\n}\n</code></pre> <p>Result: Exact match with confidence score and alternatives</p>"},{"location":"examples/basic-queries/#parse-scientific-names","title":"Parse Scientific Names","text":"<pre><code>{\n  \"tool\": \"gbif_species_parse_names\",\n  \"arguments\": {\n    \"names\": [\n      \"Panthera leo (Linnaeus, 1758)\",\n      \"Puma concolor\",\n      \"Felis catus Linnaeus\"\n    ]\n  }\n}\n</code></pre> <p>Result: Parsed components for each name (genus, species, author, year)</p>"},{"location":"examples/basic-queries/#occurrence-queries","title":"Occurrence Queries","text":""},{"location":"examples/basic-queries/#find-recent-observations","title":"Find Recent Observations","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_search\",\n  \"arguments\": {\n    \"taxonKey\": 5231190,\n    \"year\": \"2024\",\n    \"hasCoordinate\": true,\n    \"limit\": 20\n  }\n}\n</code></pre> <p>Result: 2024 lion observations with coordinates</p>"},{"location":"examples/basic-queries/#count-occurrences","title":"Count Occurrences","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_count\",\n  \"arguments\": {\n    \"taxonKey\": 212,\n    \"country\": \"US\",\n    \"basisOfRecord\": [\"HUMAN_OBSERVATION\"]\n  }\n}\n</code></pre> <p>Result: Total count of bird observations in USA</p>"},{"location":"examples/basic-queries/#geographic-distribution","title":"Geographic Distribution","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_counts_by_country\",\n  \"arguments\": {\n    \"taxonKey\": 5231190,\n    \"year\": \"2020,2024\"\n  }\n}\n</code></pre> <p>Result: <code>{ \"KE\": 234, \"TZ\": 156, \"ZA\": 189, ... }</code></p>"},{"location":"examples/basic-queries/#statistics-analysis","title":"Statistics &amp; Analysis","text":""},{"location":"examples/basic-queries/#temporal-trends","title":"Temporal Trends","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_counts_by_year\",\n  \"arguments\": {\n    \"taxonKey\": 5231190,\n    \"country\": \"KE\"\n  }\n}\n</code></pre> <p>Result: Year-by-year counts for lions in Kenya</p>"},{"location":"examples/basic-queries/#data-composition","title":"Data Composition","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_counts_by_basis_of_record\",\n  \"arguments\": {\n    \"taxonKey\": 212,\n    \"country\": \"US\"\n  }\n}\n</code></pre> <p>Result: Breakdown of US bird records by type</p>"},{"location":"examples/basic-queries/#dataset-attribution","title":"Dataset Attribution","text":"<pre><code>{\n  \"tool\": \"gbif_occurrence_counts_by_dataset\",\n  \"arguments\": {\n    \"taxonKey\": 212,\n    \"country\": \"BR\"\n  }\n}\n</code></pre> <p>Result: Which datasets contribute Brazilian bird data</p>"},{"location":"examples/basic-queries/#dataset-discovery","title":"Dataset Discovery","text":""},{"location":"examples/basic-queries/#find-occurrence-datasets","title":"Find Occurrence Datasets","text":"<pre><code>{\n  \"tool\": \"gbif_registry_search_datasets\",\n  \"arguments\": {\n    \"type\": \"OCCURRENCE\",\n    \"publishingCountry\": \"US\",\n    \"q\": \"birds\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#get-dataset-details","title":"Get Dataset Details","text":"<pre><code>{\n  \"tool\": \"gbif_registry_get_dataset\",\n  \"arguments\": {\n    \"key\": \"50c9509d-22c7-4a22-a47d-8c48425ef4a7\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#get-dataset-statistics","title":"Get Dataset Statistics","text":"<pre><code>{\n  \"tool\": \"gbif_registry_dataset_metrics\",\n  \"arguments\": {\n    \"key\": \"50c9509d-22c7-4a22-a47d-8c48425ef4a7\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#map-generation","title":"Map Generation","text":""},{"location":"examples/basic-queries/#generate-map-tile-url","title":"Generate Map Tile URL","text":"<pre><code>{\n  \"tool\": \"gbif_maps_get_tile_url\",\n  \"arguments\": {\n    \"z\": 4,\n    \"x\": 3,\n    \"y\": 5,\n    \"taxonKey\": 212,\n    \"country\": \"US\",\n    \"style\": \"purpleHeat.point\"\n  }\n}\n</code></pre> <p>Result: URL to PNG tile showing US bird occurrences</p>"},{"location":"examples/basic-queries/#list-available-styles","title":"List Available Styles","text":"<pre><code>{\n  \"tool\": \"gbif_maps_list_styles\",\n  \"arguments\": {}\n}\n</code></pre> <p>Result: All color schemes (classic.poly, purpleHeat.point, fire.point, etc.)</p>"},{"location":"examples/basic-queries/#data-validation","title":"Data Validation","text":""},{"location":"examples/basic-queries/#validate-csv-file","title":"Validate CSV File","text":"<pre><code>{\n  \"tool\": \"gbif_validator_validate_tabular\",\n  \"arguments\": {\n    \"fileUrl\": \"https://example.com/occurrences.csv\",\n    \"fileType\": \"CSV\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#validate-darwin-core-archive","title":"Validate Darwin Core Archive","text":"<pre><code>{\n  \"tool\": \"gbif_validator_validate_dwca\",\n  \"arguments\": {\n    \"fileUrl\": \"https://example.com/dataset.zip\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#research-impact","title":"Research Impact","text":""},{"location":"examples/basic-queries/#find-publications","title":"Find Publications","text":"<pre><code>{\n  \"tool\": \"gbif_literature_search\",\n  \"arguments\": {\n    \"year\": \"2024\",\n    \"topics\": [\"CONSERVATION\", \"CLIMATE_CHANGE\"],\n    \"peerReview\": true\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#get-publication-details","title":"Get Publication Details","text":"<pre><code>{\n  \"tool\": \"gbif_literature_get\",\n  \"arguments\": {\n    \"doi\": \"10.1038/nature12345\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#institutional-discovery","title":"Institutional Discovery","text":""},{"location":"examples/basic-queries/#find-collections","title":"Find Collections","text":"<pre><code>{\n  \"tool\": \"gbif_registry_search_collections\",\n  \"arguments\": {\n    \"country\": \"US\",\n    \"q\": \"herbarium\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#find-institutions","title":"Find Institutions","text":"<pre><code>{\n  \"tool\": \"gbif_registry_search_institutions\",\n  \"arguments\": {\n    \"country\": \"GB\",\n    \"city\": \"London\"\n  }\n}\n</code></pre>"},{"location":"examples/basic-queries/#next-steps","title":"Next Steps","text":"<ul> <li>Advanced Filtering Examples</li> <li>User Guide</li> <li>API Reference</li> </ul>"},{"location":"getting-started/configuration/","title":"Configuration","text":"<p>Configure the GBIF MCP Server for your environment and use case.</p>"},{"location":"getting-started/configuration/#environment-variables","title":"Environment Variables","text":""},{"location":"getting-started/configuration/#gbif-api-settings","title":"GBIF API Settings","text":"<pre><code># GBIF API endpoint (default: https://api.gbif.org/v1)\nGBIF_BASE_URL=https://api.gbif.org/v1\n\n# API timeout in milliseconds (default: 30000)\nGBIF_TIMEOUT=30000\n\n# User agent string\nGBIF_USER_AGENT=GBIF-MCP-Server/1.0\n</code></pre>"},{"location":"getting-started/configuration/#authentication","title":"Authentication","text":"<p>Required for occurrence downloads:</p> <pre><code># Your GBIF.org username\nGBIF_USERNAME=your_username\n\n# Your GBIF.org password\nGBIF_PASSWORD=your_password\n</code></pre> <p>Get credentials at: https://www.gbif.org/user/profile</p>"},{"location":"getting-started/configuration/#rate-limiting","title":"Rate Limiting","text":"<pre><code># Maximum requests per minute (default: 100)\nRATE_LIMIT_MAX_REQUESTS=100\n\n# Maximum concurrent requests (default: 5)\nRATE_LIMIT_MAX_CONCURRENT=5\n\n# Retry attempts for failed requests (default: 3)\nGBIF_RETRY_ATTEMPTS=3\n\n# Initial retry delay in ms (default: 1000)\nGBIF_RETRY_DELAY=1000\n\n# Backoff multiplier for retries (default: 2)\nRATE_LIMIT_BACKOFF_MULTIPLIER=2\n\n# Maximum backoff time in ms (default: 60000)\nRATE_LIMIT_MAX_BACKOFF=60000\n</code></pre>"},{"location":"getting-started/configuration/#caching","title":"Caching","text":"<pre><code># Enable response caching (default: true)\nCACHE_ENABLED=true\n\n# Cache size in MB (default: 100)\nCACHE_MAX_SIZE=100\n\n# Cache TTL in milliseconds (default: 300000 = 5 minutes)\nCACHE_TTL=300000\n</code></pre>"},{"location":"getting-started/configuration/#logging","title":"Logging","text":"<pre><code># Log level: error, warn, info, debug (default: info)\nLOG_LEVEL=info\n\n# Log format: json or text (default: json)\nLOG_FORMAT=json\n</code></pre>"},{"location":"getting-started/configuration/#configuration-file","title":"Configuration File","text":"<p>Create a <code>.env</code> file in the project root:</p> <pre><code># .env\nGBIF_USERNAME=myusername\nGBIF_PASSWORD=mypassword\nCACHE_ENABLED=true\nCACHE_MAX_SIZE=200\nLOG_LEVEL=debug\n</code></pre>"},{"location":"getting-started/configuration/#docker-configuration","title":"Docker Configuration","text":"<p>Pass environment variables to Docker:</p> <pre><code>docker run -i \\\n  -e GBIF_USERNAME=myusername \\\n  -e GBIF_PASSWORD=mypassword \\\n  -e CACHE_MAX_SIZE=200 \\\n  -e LOG_LEVEL=info \\\n  gbif-mcp:latest\n</code></pre> <p>Or use a <code>.env</code> file:</p> <pre><code>docker run -i --env-file .env gbif-mcp:latest\n</code></pre>"},{"location":"getting-started/configuration/#performance-tuning","title":"Performance Tuning","text":""},{"location":"getting-started/configuration/#for-high-volume-usage","title":"For High-Volume Usage","text":"<pre><code># Increase cache\nCACHE_MAX_SIZE=500\nCACHE_TTL=600000  # 10 minutes\n\n# Higher rate limits\nRATE_LIMIT_MAX_REQUESTS=200\nRATE_LIMIT_MAX_CONCURRENT=10\n\n# Longer timeout for slow networks\nGBIF_TIMEOUT=60000\n</code></pre>"},{"location":"getting-started/configuration/#for-low-memory-environments","title":"For Low-Memory Environments","text":"<pre><code># Reduce cache\nCACHE_MAX_SIZE=20\nCACHE_ENABLED=false\n\n# Lower concurrency\nRATE_LIMIT_MAX_CONCURRENT=2\n</code></pre>"},{"location":"getting-started/configuration/#for-development","title":"For Development","text":"<pre><code># Verbose logging\nLOG_LEVEL=debug\n\n# Disable cache for testing\nCACHE_ENABLED=false\n\n# Lower rate limits\nRATE_LIMIT_MAX_REQUESTS=10\n</code></pre>"},{"location":"getting-started/configuration/#production-recommendations","title":"Production Recommendations","text":"<pre><code># Balanced production config\nCACHE_ENABLED=true\nCACHE_MAX_SIZE=100\nCACHE_TTL=300000\nRATE_LIMIT_MAX_REQUESTS=100\nRATE_LIMIT_MAX_CONCURRENT=5\nLOG_LEVEL=info\nGBIF_RETRY_ATTEMPTS=3\n</code></pre>"},{"location":"getting-started/configuration/#monitoring","title":"Monitoring","text":"<p>The server logs detailed statistics at shutdown:</p> <pre><code>{\n  \"uptime\": \"2h 34m 12s\",\n  \"totalRequests\": 15234,\n  \"successfulRequests\": 15102,\n  \"failedRequests\": 132,\n  \"cacheStats\": {\n    \"size\": 89234567,\n    \"itemCount\": 1234\n  }\n}\n</code></pre>"},{"location":"getting-started/configuration/#security","title":"Security","text":""},{"location":"getting-started/configuration/#credential-management","title":"Credential Management","text":"<p>Never commit credentials</p> <p>Add <code>.env</code> to <code>.gitignore</code> to prevent credential leaks</p> <p>Use environment-specific configs</p> <pre><code># Development\n.env.development\n\n# Production\n.env.production\n</code></pre>"},{"location":"getting-started/configuration/#api-keys","title":"API Keys","text":"<p>GBIF uses username/password (not API keys). Credentials are only needed for: - Occurrence downloads - Dataset publishing (not yet implemented)</p> <p>All read operations work without authentication.</p>"},{"location":"getting-started/configuration/#defaults-reference","title":"Defaults Reference","text":"Setting Default Range Rate limit 100/min 1-1000 Concurrent requests 5 1-50 Cache size 100 MB 10-1000 MB Cache TTL 5 min 1 sec - 1 hour Timeout 30 sec 5-120 sec Retry attempts 3 0-10 Log level info error/warn/info/debug"},{"location":"getting-started/configuration/#next-steps","title":"Next Steps","text":"<ul> <li>Start using the server</li> <li>Explore tools</li> <li>See examples</li> </ul>"},{"location":"getting-started/features/","title":"Features","text":""},{"location":"getting-started/features/#comprehensive-tool-suite","title":"Comprehensive Tool Suite","text":""},{"location":"getting-started/features/#57-production-ready-tools","title":"57 Production-Ready Tools","text":"<p>Species &amp; Taxonomy (14 tools) - Comprehensive species search and identification - Name matching and standardization - Taxonomic relationships and hierarchy - Batch name parsing (up to 1000 names) - Quick species metrics</p> <p>Occurrence Data (14 tools) - 2.4B+ occurrence records - Spatial/temporal filtering - Complete statistics suite (7 breakdown endpoints) - Large dataset downloads - Verbatim data access</p> <p>Metadata &amp; Discovery (17 tools) - 100,000+ dataset search - Organization and publisher info - GRSciColl integration (collections, institutions) - Network and collaboration data - GBIF governance (nodes)</p> <p>Visualization (4 tools) - Map tile generation - Vector and raster formats - Custom styling - Filter-based maps</p> <p>Research Impact (2 tools) - 10,000+ publication tracking - Citation search and retrieval</p> <p>Standards &amp; Validation (6 tools) - Controlled vocabularies - Data validation (CSV, DwC-A) - Quality assurance</p>"},{"location":"getting-started/features/#production-quality","title":"Production Quality","text":""},{"location":"getting-started/features/#reliability","title":"Reliability","text":"<p>\u2705 Circuit Breaker Pattern - Prevents cascading failures - Auto-recovery after timeout - Three states: CLOSED \u2192 OPEN \u2192 HALF_OPEN</p> <p>\u2705 Retry Logic - Exponential backoff - Configurable retry attempts - Handles transient failures</p> <p>\u2705 Rate Limiting - Respects GBIF API limits - Client-side enforcement - Queue management</p>"},{"location":"getting-started/features/#performance","title":"Performance","text":"<p>\u2705 LRU Caching - Configurable size (default: 100MB) - TTL-based expiration - Hit/miss statistics</p> <p>\u2705 Request Queueing - Concurrency control - Prevents overwhelming API - Fair request distribution</p> <p>\u2705 Optimized Endpoints - Use count endpoints when possible - Pagination support throughout - Efficient data structures</p>"},{"location":"getting-started/features/#testing","title":"Testing","text":"<p>\u2705 246 Tests (100% passing) - Core infrastructure: 92% coverage - Services: 75% coverage - Tools: 85% coverage - Overall: 74.61% coverage</p> <p>\u2705 Comprehensive Test Suite - Unit tests for all components - Service integration tests - Tool validation tests - Error scenario coverage</p>"},{"location":"getting-started/features/#developer-experience","title":"Developer Experience","text":""},{"location":"getting-started/features/#type-safety","title":"Type Safety","text":"<p>\u2705 TypeScript Throughout - Strict mode enabled - Comprehensive type definitions - IDE autocomplete support</p>"},{"location":"getting-started/features/#validation","title":"Validation","text":"<p>\u2705 Zod Schema Validation - Input validation for all tools - Type coercion and defaults - Detailed error messages</p>"},{"location":"getting-started/features/#documentation","title":"Documentation","text":"<p>\u2705 Comprehensive Parameter Docs - 2-3 sentence descriptions - Real-world examples - Valid ranges and formats - Links to GBIF documentation</p>"},{"location":"getting-started/features/#capabilities","title":"Capabilities","text":""},{"location":"getting-started/features/#what-you-can-do","title":"What You Can Do","text":"<p>Species Research: - Identify species from names - Explore taxonomic relationships - Standardize name spellings - Get species distribution data</p> <p>Occurrence Analysis: - Query observations/specimens - Filter by location/time/quality - Generate statistics and trends - Analyze geographic patterns</p> <p>Dataset Management: - Discover relevant datasets - Understand data sources - Validate before publishing - Track institutional contributions</p> <p>Visualization: - Generate occurrence maps - Create custom tile layers - Filter visualizations - Multiple color schemes</p> <p>Research Tracking: - Find papers using GBIF data - Track data citations - Measure research impact</p>"},{"location":"getting-started/features/#technical-features","title":"Technical Features","text":""},{"location":"getting-started/features/#architecture","title":"Architecture","text":"<pre><code>MCP Transport (stdio)\n    \u2193\nProtocol Handler\n    \u2193\nTool Orchestrator\n    \u2193\nService Layer (with caching, retry, circuit breaker)\n    \u2193\nGBIF Client (rate limiting, queueing)\n    \u2193\nGBIF API\n</code></pre>"},{"location":"getting-started/features/#error-handling","title":"Error Handling","text":"<ul> <li>User-friendly error messages</li> <li>HTTP status code transformation</li> <li>Detailed logging</li> <li>Graceful degradation</li> </ul>"},{"location":"getting-started/features/#monitoring","title":"Monitoring","text":"<ul> <li>Request/success/error counts</li> <li>Uptime tracking</li> <li>Cache statistics</li> <li>Circuit breaker state</li> </ul>"},{"location":"getting-started/features/#next-steps","title":"Next Steps","text":"<ul> <li>Install the server</li> <li>Quick start guide</li> <li>Explore all tools</li> </ul>"},{"location":"getting-started/installation/","title":"Installation","text":"<p>Get the GBIF MCP Server up and running in minutes with your preferred installation method.</p>"},{"location":"getting-started/installation/#prerequisites","title":"Prerequisites","text":"<ul> <li>Node.js 18+ (LTS recommended)</li> <li>npm or yarn package manager</li> <li>(Optional) Docker for containerized deployment</li> </ul>"},{"location":"getting-started/installation/#installation-methods","title":"Installation Methods","text":""},{"location":"getting-started/installation/#option-1-npm-recommended","title":"Option 1: NPM (Recommended)","text":"<p>Install globally for system-wide access:</p> <pre><code>npm install -g gbif-mcp\n</code></pre> <p>Or install locally in your project:</p> <pre><code>npm install gbif-mcp\n</code></pre> <p>Verify installation:</p> <pre><code>gbif-mcp --version\n</code></pre>"},{"location":"getting-started/installation/#option-2-docker","title":"Option 2: Docker","text":"<p>Pull the official Docker image:</p> <pre><code>docker pull gbif-mcp:latest\n</code></pre> <p>Run the server:</p> <pre><code>docker run -i gbif-mcp:latest\n</code></pre> <p>With custom configuration:</p> <pre><code>docker run -i \\\n  -e GBIF_USERNAME=your_username \\\n  -e GBIF_PASSWORD=your_password \\\n  -e LOG_LEVEL=info \\\n  gbif-mcp:latest\n</code></pre>"},{"location":"getting-started/installation/#option-3-from-source","title":"Option 3: From Source","text":"<p>Clone the repository:</p> <pre><code>git clone https://github.com/yourusername/gbif-mcp.git\ncd gbif-mcp\n</code></pre> <p>Install dependencies:</p> <pre><code>npm install\n</code></pre> <p>Build the project:</p> <pre><code>npm run build\n</code></pre> <p>Start the server:</p> <pre><code>npm start\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<p>Test that the server is working:</p> <pre><code>echo '{\"jsonrpc\":\"2.0\",\"id\":1,\"method\":\"tools/list\"}' | gbif-mcp\n</code></pre> <p>You should see JSON output listing all 57 available tools.</p>"},{"location":"getting-started/installation/#configuration","title":"Configuration","text":"<p>Create a <code>.env</code> file for custom configuration:</p> <pre><code># Optional GBIF credentials (required for downloads)\nGBIF_USERNAME=your_username\nGBIF_PASSWORD=your_password\n\n# API settings\nGBIF_BASE_URL=https://api.gbif.org/v1\nRATE_LIMIT_MAX_REQUESTS=100\n\n# Cache settings\nCACHE_ENABLED=true\nCACHE_MAX_SIZE=100\nCACHE_TTL=300000\n\n# Logging\nLOG_LEVEL=info\n</code></pre> <p>See Configuration Guide for all options.</p>"},{"location":"getting-started/installation/#troubleshooting","title":"Troubleshooting","text":""},{"location":"getting-started/installation/#command-not-found","title":"Command not found","text":"<p>If <code>gbif-mcp</code> command is not found after global install:</p> <pre><code># Check npm global bin path\nnpm bin -g\n\n# Add to PATH if needed\nexport PATH=\"$(npm bin -g):$PATH\"\n</code></pre>"},{"location":"getting-started/installation/#port-already-in-use","title":"Port already in use","text":"<p>MCP uses stdio, not network ports. If you see port errors, check for other running processes.</p>"},{"location":"getting-started/installation/#permission-errors","title":"Permission errors","text":"<p>On macOS/Linux, you may need to use <code>sudo</code> for global installation:</p> <pre><code>sudo npm install -g gbif-mcp\n</code></pre>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start Guide - Your first query</li> <li>Configuration - Customize settings</li> <li>All Tools - Explore capabilities</li> </ul>"},{"location":"getting-started/installation/#upgrading","title":"Upgrading","text":"<p>To upgrade to the latest version:</p> <pre><code># NPM\nnpm update -g gbif-mcp\n\n# Docker\ndocker pull gbif-mcp:latest\n\n# From source\ngit pull origin main\nnpm install\nnpm run build\n</code></pre>"},{"location":"getting-started/installation/#uninstallation","title":"Uninstallation","text":"<pre><code># NPM global\nnpm uninstall -g gbif-mcp\n\n# Docker\ndocker rmi gbif-mcp:latest\n\n# From source\nrm -rf gbif-mcp/\n</code></pre>"},{"location":"getting-started/quick-start/","title":"Quick Start","text":"<p>Get started with the GBIF MCP Server in 5 minutes. This guide walks through your first queries and introduces the main tool categories.</p>"},{"location":"getting-started/quick-start/#your-first-query","title":"Your First Query","text":""},{"location":"getting-started/quick-start/#1-start-the-server","title":"1. Start the Server","text":"<pre><code>npm start\n# or\ndocker run -i gbif-mcp\n</code></pre> <p>The server communicates via stdin/stdout using the MCP protocol.</p>"},{"location":"getting-started/quick-start/#2-search-for-a-species","title":"2. Search for a Species","text":"<p>Find species by name:</p> <pre><code>{\n  \"tool\": \"gbif_species_search\",\n  \"arguments\": {\n    \"q\": \"Panthera leo\",\n    \"limit\": 5\n  }\n}\n</code></pre> <p>Response: List of matching species with taxonomy</p>"},{"location":"getting-started/quick-start/#3-get-occurrence-data","title":"3. Get Occurrence Data","text":"<p>Find lion observations in Kenya:</p> <pre><code>{\n  \"tool\": \"gbif_occurrence_search\",\n  \"arguments\": {\n    \"taxonKey\": 5231190,\n    \"country\": \"KE\",\n    \"year\": \"2020,2024\",\n    \"hasCoordinate\": true,\n    \"limit\": 10\n  }\n}\n</code></pre> <p>Response: Georeferenced lion occurrences from 2020-2024</p>"},{"location":"getting-started/quick-start/#4-get-quick-statistics","title":"4. Get Quick Statistics","text":"<p>Count occurrences by year:</p> <pre><code>{\n  \"tool\": \"gbif_occurrence_counts_by_year\",\n  \"arguments\": {\n    \"taxonKey\": 5231190,\n    \"country\": \"KE\"\n  }\n}\n</code></pre> <p>Response: <code>{ \"2020\": 45, \"2021\": 67, \"2022\": 89, \"2023\": 112, \"2024\": 134 }</code></p>"},{"location":"getting-started/quick-start/#tool-categories","title":"Tool Categories","text":""},{"location":"getting-started/quick-start/#species-tools-14-tools","title":"\ud83d\udd0d Species Tools (14 tools)","text":"<p>Taxonomy, identification, and species information:</p> <ul> <li>Search - Find species by name, filters</li> <li>Match - Fuzzy name matching</li> <li>Parse Names - Standardize scientific names</li> <li>Metrics - Quick species statistics</li> <li>Related - Find similar species</li> </ul> <p>See all species tools \u2192</p>"},{"location":"getting-started/quick-start/#occurrence-tools-14-tools","title":"\ud83d\udcca Occurrence Tools (14 tools)","text":"<p>Observation and specimen records:</p> <ul> <li>Search - Filter by space/time/taxonomy</li> <li>Count - Fast total counts</li> <li>Statistics Suite - 7 breakdown endpoints</li> <li>Downloads - Large dataset exports</li> </ul> <p>See all occurrence tools \u2192</p>"},{"location":"getting-started/quick-start/#registry-tools-17-tools","title":"\ud83d\udcda Registry Tools (17 tools)","text":"<p>Dataset and institutional metadata:</p> <ul> <li>Datasets - Search, discover, analyze</li> <li>Organizations - Find data publishers</li> <li>GRSciColl - Natural history collections</li> <li>Nodes - GBIF participant info</li> </ul> <p>See all registry tools \u2192</p>"},{"location":"getting-started/quick-start/#maps-tools-4-tools","title":"\ud83d\uddfa\ufe0f Maps Tools (4 tools)","text":"<p>Visualization and tile generation:</p> <ul> <li>Generate occurrence map tiles</li> <li>Vector (MVT) and raster (PNG) formats</li> <li>Custom styling and filters</li> </ul> <p>See all maps tools \u2192</p>"},{"location":"getting-started/quick-start/#common-workflows","title":"Common Workflows","text":""},{"location":"getting-started/quick-start/#find-data-about-a-species","title":"Find Data About a Species","text":"<pre><code>// 1. Search for species\n{\"tool\": \"gbif_species_search\", \"arguments\": {\"q\": \"African lion\"}}\n\n// 2. Get occurrence count\n{\"tool\": \"gbif_occurrence_count\", \"arguments\": {\"taxonKey\": 5231190}}\n\n// 3. Get geographic distribution\n{\"tool\": \"gbif_occurrence_counts_by_country\", \"arguments\": {\"taxonKey\": 5231190}}\n\n// 4. Get temporal trends\n{\"tool\": \"gbif_occurrence_counts_by_year\", \"arguments\": {\"taxonKey\": 5231190}}\n</code></pre>"},{"location":"getting-started/quick-start/#discover-datasets","title":"Discover Datasets","text":"<pre><code>// 1. Search datasets\n{\"tool\": \"gbif_registry_search_datasets\", \"arguments\": {\"q\": \"mammals\", \"type\": \"OCCURRENCE\"}}\n\n// 2. Get dataset details\n{\"tool\": \"gbif_registry_get_dataset\", \"arguments\": {\"key\": \"dataset-uuid\"}}\n\n// 3. Get dataset statistics\n{\"tool\": \"gbif_registry_dataset_metrics\", \"arguments\": {\"key\": \"dataset-uuid\"}}\n</code></pre>"},{"location":"getting-started/quick-start/#validate-your-data","title":"Validate Your Data","text":"<pre><code>// 1. Validate CSV file\n{\"tool\": \"gbif_validator_validate_tabular\", \"arguments\": {\"fileUrl\": \"https://example.com/data.csv\"}}\n\n// 2. Validate Darwin Core Archive\n{\"tool\": \"gbif_validator_validate_dwca\", \"arguments\": {\"fileUrl\": \"https://example.com/archive.zip\"}}\n\n// 3. Check validation status\n{\"tool\": \"gbif_validator_get_status\", \"arguments\": {\"validationKey\": \"job-123\"}}\n</code></pre>"},{"location":"getting-started/quick-start/#response-format","title":"Response Format","text":"<p>All tools return responses in this format:</p> <pre><code>{\n  \"success\": true,\n  \"data\": { /* actual results */ },\n  \"metadata\": {\n    \"tool\": \"tool_name\",\n    \"timestamp\": \"2024-02-03T12:00:00Z\",\n    /* tool-specific metadata */\n  }\n}\n</code></pre>"},{"location":"getting-started/quick-start/#next-steps","title":"Next Steps","text":"<ul> <li>Explore all 57 tools</li> <li>See advanced examples</li> <li>Configure the server</li> <li>Learn the architecture</li> </ul>"},{"location":"getting-started/quick-start/#tips","title":"Tips","text":"<p>Performance</p> <ul> <li>Use count endpoints instead of full searches for statistics</li> <li>Enable caching for frequently-accessed data</li> <li>Use appropriate limit values (default: 20)</li> </ul> <p>Rate Limiting</p> <p>GBIF API has rate limits. The server includes: - Automatic retry with exponential backoff - Circuit breaker for resilience - Request queueing</p> <p>Authentication</p> <p>Some endpoints require GBIF credentials: - Occurrence downloads - Dataset publishing</p> <p>Set <code>GBIF_USERNAME</code> and <code>GBIF_PASSWORD</code> environment variables.</p>"},{"location":"user-guide/overview/","title":"User Guide Overview","text":"<p>Complete guide to all 57 GBIF MCP tools organized by category.</p>"},{"location":"user-guide/overview/#tool-categories","title":"Tool Categories","text":"<p>The GBIF MCP Server provides 57 tools across 7 major categories, each serving specific biodiversity data needs.</p>"},{"location":"user-guide/overview/#tool-distribution","title":"\ud83d\udcca Tool Distribution","text":"Category Tools Coverage Use Cases Species 14 70% Taxonomy, identification, name parsing Occurrence 14 56% Observations, specimens, statistics Registry 17 57% Datasets, institutions, metadata Maps 4 67% Visualization, tile generation Statistics 7 - Counts, trends, analysis Literature 2 50% Research impact Vocabularies 3 60% Standards, valid values Validator 3 30% Quality assurance"},{"location":"user-guide/overview/#quick-reference","title":"Quick Reference","text":""},{"location":"user-guide/overview/#species-taxonomy","title":"Species &amp; Taxonomy","text":"<pre><code>gbif_species_search          // Search species by name/filters\ngbif_species_match           // Fuzzy name matching\ngbif_species_parse_names     // Standardize scientific names (batch)\ngbif_species_metrics         // Quick statistics\ngbif_species_related         // Find related species\n</code></pre>"},{"location":"user-guide/overview/#occurrences-observations","title":"Occurrences &amp; Observations","text":"<pre><code>gbif_occurrence_search       // Query with filters\ngbif_occurrence_count        // Fast total count\ngbif_occurrence_counts_*     // 7 breakdown endpoints\ngbif_occurrence_download_*   // Large dataset exports\n</code></pre>"},{"location":"user-guide/overview/#statistics-suite-7-tools","title":"Statistics Suite (7 tools)","text":"<pre><code>gbif_occurrence_counts_by_basis_of_record     // By record type\ngbif_occurrence_counts_by_year                // Temporal trends\ngbif_occurrence_counts_by_country             // Geographic\ngbif_occurrence_counts_by_publishing_country  // Data sources\ngbif_occurrence_counts_by_dataset             // Attribution\ngbif_occurrence_counts_by_taxon               // Biodiversity\ngbif_occurrence_counts_by_publishing_org      // Institutions\n</code></pre>"},{"location":"user-guide/overview/#datasets-metadata","title":"Datasets &amp; Metadata","text":"<pre><code>gbif_registry_search_datasets      // Find datasets\ngbif_registry_get_dataset          // Get metadata\ngbif_registry_dataset_metrics      // Statistics\ngbif_registry_dataset_document     // EML metadata\n</code></pre>"},{"location":"user-guide/overview/#maps-visualization","title":"Maps &amp; Visualization","text":"<pre><code>gbif_maps_get_tile_url            // Generate tile URLs\ngbif_maps_get_vector_tile_url     // MVT format\ngbif_maps_get_raster_tile_url     // PNG format\ngbif_maps_list_styles             // Available styles\n</code></pre>"},{"location":"user-guide/overview/#tool-selection-guide","title":"Tool Selection Guide","text":""},{"location":"user-guide/overview/#when-to-use-what","title":"When to Use What","text":"<p>Need species information? \u2192 Start with <code>gbif_species_search</code> or <code>gbif_species_match</code></p> <p>Need occurrence data? \u2192 Use <code>gbif_occurrence_search</code> for records \u2192 Use <code>gbif_occurrence_count</code> for totals \u2192 Use <code>gbif_occurrence_counts_*</code> for breakdowns</p> <p>Need quick statistics? \u2192 Use the 7 <code>counts_*</code> tools (very fast)</p> <p>Need to find datasets? \u2192 Start with <code>gbif_registry_search_datasets</code></p> <p>Need to validate data? \u2192 Use <code>gbif_validator_validate_tabular</code> (CSV) \u2192 Use <code>gbif_validator_validate_dwca</code> (archives)</p> <p>Need visualizations? \u2192 Use <code>gbif_maps_*</code> tools to generate tile URLs</p>"},{"location":"user-guide/overview/#common-parameters","title":"Common Parameters","text":"<p>Most tools support these common parameters:</p>"},{"location":"user-guide/overview/#pagination","title":"Pagination","text":"<pre><code>{\n  \"limit\": 20,    // Results per page (1-1000, default: 20)\n  \"offset\": 0     // Skip first N results (default: 0)\n}\n</code></pre>"},{"location":"user-guide/overview/#taxonomic-filters","title":"Taxonomic Filters","text":"<pre><code>{\n  \"taxonKey\": 5231190,       // Specific taxon\n  \"kingdomKey\": 1,           // Kingdom level\n  \"phylumKey\": 44,           // Phylum level\n  \"classKey\": 212,           // Class level (e.g., Aves)\n  \"orderKey\": 7192402,       // Order level\n  \"familyKey\": 9703,         // Family level\n  \"genusKey\": 2435098        // Genus level\n}\n</code></pre>"},{"location":"user-guide/overview/#geographic-filters","title":"Geographic Filters","text":"<pre><code>{\n  \"country\": \"KE\",                    // 2-letter ISO code\n  \"continent\": \"AFRICA\",              // Continent\n  \"hasCoordinate\": true,              // Only georeferenced\n  \"decimalLatitude\": \"-1.5,1.5\",      // Lat range\n  \"decimalLongitude\": \"35,37\",        // Lon range\n  \"geometry\": \"POLYGON(...)\"          // WKT geometry\n}\n</code></pre>"},{"location":"user-guide/overview/#temporal-filters","title":"Temporal Filters","text":"<pre><code>{\n  \"year\": \"2024\",            // Single year\n  \"year\": \"2020,2024\",       // Year range\n  \"month\": 6,                // Month (1-12)\n  \"eventDate\": \"2024-01-01\"  // Specific date\n}\n</code></pre>"},{"location":"user-guide/overview/#response-patterns","title":"Response Patterns","text":""},{"location":"user-guide/overview/#paginated-results","title":"Paginated Results","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"offset\": 0,\n    \"limit\": 20,\n    \"endOfRecords\": false,\n    \"count\": 1000,\n    \"results\": [ /* array of results */ ]\n  }\n}\n</code></pre>"},{"location":"user-guide/overview/#count-results","title":"Count Results","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"count\": 15000\n  }\n}\n</code></pre>"},{"location":"user-guide/overview/#breakdown-results","title":"Breakdown Results","text":"<pre><code>{\n  \"success\": true,\n  \"data\": {\n    \"US\": 5000,\n    \"BR\": 3000,\n    \"KE\": 2000\n  }\n}\n</code></pre>"},{"location":"user-guide/overview/#best-practices","title":"Best Practices","text":"<p>Do</p> <ul> <li>Use count endpoints for quick stats</li> <li>Filter to reduce result sets</li> <li>Cache frequently-used queries</li> <li>Use appropriate pagination</li> <li>Validate UUIDs before requests</li> </ul> <p>Don't</p> <ul> <li>Request huge offsets (max: 100,000)</li> <li>Use search when count suffices</li> <li>Skip error handling</li> <li>Ignore rate limits</li> </ul>"},{"location":"user-guide/overview/#error-handling","title":"Error Handling","text":"<p>All tools return errors in standard format:</p> <pre><code>{\n  \"error\": \"Error message describing what went wrong\",\n  \"code\": \"ERROR_CODE\"\n}\n</code></pre> <p>Common errors: - <code>Invalid input</code> - Check parameter types/formats - <code>Not found</code> - UUID doesn't exist - <code>Rate limit exceeded</code> - Retry with backoff - <code>Circuit breaker is OPEN</code> - GBIF API temporarily unavailable</p>"},{"location":"user-guide/overview/#next-steps","title":"Next Steps","text":"<ul> <li>Explore Species Tools</li> <li>Explore Occurrence Tools</li> <li>See Examples</li> <li>Configure the Server</li> </ul>"}]}